{"ast":null,"code":"import _classCallCheck from \"/Users/mohitsinhmar/Documents/Final Project Singh Movers and Packers/project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mohitsinhmar/Documents/Final Project Singh Movers and Packers/project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { EventEmitter, Component, ElementRef, ChangeDetectorRef, Output, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction CarouselComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.counter);\n  }\n}\n\nfunction CarouselComponent_ng_template_5_div_0_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 11);\n  }\n\n  if (rf & 2) {\n    var i_r6 = ɵngcc0.ɵɵnextContext(2).index;\n    var ctx_r8 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"object-fit\", ctx_r8.objectFit);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r8.getImage(i_r6)[\"image\"][\"path\"], ɵngcc0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction CarouselComponent_ng_template_5_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_ng_template_5_div_0_img_1_Template, 1, 3, \"img\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var i_r6 = ɵngcc0.ɵɵnextContext().index;\n    var ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r7.getCellWidth() + \"px\")(\"border-radius\", ctx_r7.borderRadius + \"px\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.getImage(i_r6) && ctx_r7.getImage(i_r6)[\"image\"]);\n  }\n}\n\nfunction CarouselComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, CarouselComponent_ng_template_5_div_0_Template, 2, 5, \"div\", 8);\n  }\n\n  if (rf & 2) {\n    var i_r6 = ctx.index;\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", i_r6 < ctx_r2.cellLimit);\n  }\n}\n\nfunction CarouselComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 14);\n  }\n\n  if (rf & 2) {\n    var i_r13 = ctx.index;\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"carousel-dot-active\", i_r13 === ctx_r11.activeDotIndex);\n  }\n}\n\nfunction CarouselComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 12);\n    ɵngcc0.ɵɵtemplate(1, CarouselComponent_div_6_div_1_Template, 1, 2, \"div\", 13);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.dotsArr);\n  }\n}\n\nfunction CarouselComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r15 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 15);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 16);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_1_listener() {\n      ɵngcc0.ɵɵrestoreView(_r15);\n      var ctx_r14 = ɵngcc0.ɵɵnextContext();\n      return ctx_r14.prev();\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(2, \"div\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function CarouselComponent_div_7_Template_div_click_2_listener() {\n      ɵngcc0.ɵɵrestoreView(_r15);\n      var ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ctx_r16.next();\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"carousel-arrows-outside\", ctx_r4.arrowsOutside)(\"carousel-dark-arrows\", ctx_r4.arrowsTheme === \"dark\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isPrevArrowDisabled());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"carousel-arrow-disabled\", ctx_r4.isNextArrowDisabled());\n  }\n}\n\nvar _c0 = [\"*\"];\n\nvar Touches = /*#__PURE__*/function () {\n  function Touches(properties) {\n    var _this = this;\n\n    _classCallCheck(this, Touches);\n\n    this.eventType = undefined;\n    this.handlers = {};\n    this.startX = 0;\n    this.startY = 0;\n    this.lastTap = 0;\n    this.doubleTapMinTimeout = 300;\n    this.tapMinTimeout = 200;\n    this.touchstartTime = 0;\n    this.i = 0;\n    this.isMousedown = false;\n    this._touchListeners = {\n      \"touchstart\": \"handleTouchstart\",\n      \"touchmove\": \"handleTouchmove\",\n      \"touchend\": \"handleTouchend\"\n    };\n    this._mouseListeners = {\n      \"mousedown\": \"handleMousedown\",\n      \"mousemove\": \"handleMousemove\",\n      \"mouseup\": \"handleMouseup\",\n      \"wheel\": \"handleWheel\"\n    };\n    this._otherListeners = {\n      \"resize\": \"handleResize\"\n    };\n    /*\r\n     * Listeners\r\n     */\n\n    /* Touchstart */\n\n    this.handleTouchstart = function (event) {\n      _this.elementPosition = _this.getElementPosition();\n      _this.touchstartTime = new Date().getTime();\n\n      if (_this.eventType === undefined) {\n        _this.getTouchstartPosition(event);\n      }\n\n      _this.runHandler(\"touchstart\", event);\n    };\n    /* Touchmove */\n\n\n    this.handleTouchmove = function (event) {\n      var touches = event.touches; // Pan\n\n      if (_this.detectPan(touches)) {\n        _this.runHandler(\"pan\", event);\n      } // Pinch\n\n\n      if (_this.detectPinch(event)) {\n        _this.runHandler(\"pinch\", event);\n      } // Linear swipe\n\n\n      switch (_this.detectLinearSwipe(event)) {\n        case \"horizontal-swipe\":\n          event.swipeType = \"horizontal-swipe\";\n\n          _this.runHandler(\"horizontal-swipe\", event);\n\n          break;\n\n        case \"vertical-swipe\":\n          event.swipeType = \"vertical-swipe\";\n\n          _this.runHandler(\"vertical-swipe\", event);\n\n          break;\n      } // Linear swipe\n\n\n      if (_this.detectLinearSwipe(event) || _this.eventType === 'horizontal-swipe' || _this.eventType === 'vertical-swipe') {\n        _this.handleLinearSwipe(event);\n      }\n    };\n    /* Touchend */\n\n\n    this.handleTouchend = function (event) {\n      var touches = event.touches; // Double Tap\n\n      if (_this.detectDoubleTap()) {\n        _this.runHandler(\"double-tap\", event);\n      } // Tap\n\n\n      _this.detectTap();\n\n      _this.runHandler(\"touchend\", event);\n\n      _this.eventType = 'touchend';\n\n      if (touches && touches.length === 0) {\n        _this.eventType = undefined;\n        _this.i = 0;\n      }\n    };\n    /* Mousedown */\n\n\n    this.handleMousedown = function (event) {\n      _this.isMousedown = true;\n      _this.elementPosition = _this.getElementPosition();\n      _this.touchstartTime = new Date().getTime();\n\n      if (_this.eventType === undefined) {\n        _this.getMousedownPosition(event);\n      }\n\n      _this.runHandler(\"mousedown\", event);\n    };\n    /* Mousemove */\n\n\n    this.handleMousemove = function (event) {\n      //event.preventDefault();\n      if (!_this.isMousedown) {\n        return;\n      } // Pan\n\n\n      _this.runHandler(\"pan\", event); // Linear swipe\n\n\n      switch (_this.detectLinearSwipe(event)) {\n        case \"horizontal-swipe\":\n          event.swipeType = \"horizontal-swipe\";\n\n          _this.runHandler(\"horizontal-swipe\", event);\n\n          break;\n\n        case \"vertical-swipe\":\n          event.swipeType = \"vertical-swipe\";\n\n          _this.runHandler(\"vertical-swipe\", event);\n\n          break;\n      } // Linear swipe\n\n\n      if (_this.detectLinearSwipe(event) || _this.eventType === 'horizontal-swipe' || _this.eventType === 'vertical-swipe') {\n        _this.handleLinearSwipe(event);\n      }\n    };\n    /* Mouseup */\n\n\n    this.handleMouseup = function (event) {\n      // Tap\n      _this.detectTap();\n\n      _this.isMousedown = false;\n\n      _this.runHandler(\"mouseup\", event);\n\n      _this.eventType = undefined;\n      _this.i = 0;\n    };\n    /* Wheel */\n\n\n    this.handleWheel = function (event) {\n      _this.runHandler(\"wheel\", event);\n    };\n    /* Resize */\n\n\n    this.handleResize = function (event) {\n      _this.runHandler(\"resize\", event);\n    };\n\n    this.properties = properties;\n    this.element = this.properties.element;\n    this.elementPosition = this.getElementPosition();\n    this.toggleEventListeners('addEventListener');\n  }\n\n  _createClass(Touches, [{\n    key: \"touchListeners\",\n    get: function get() {\n      return this.properties.touchListeners ? this.properties.touchListeners : this._touchListeners;\n    }\n  }, {\n    key: \"mouseListeners\",\n    get: function get() {\n      return this.properties.mouseListeners ? this.properties.mouseListeners : this._mouseListeners;\n    }\n  }, {\n    key: \"otherListeners\",\n    get: function get() {\n      return this.properties.otherListeners ? this.properties.otherListeners : this._otherListeners;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.toggleEventListeners('removeEventListener');\n    }\n  }, {\n    key: \"toggleEventListeners\",\n    value: function toggleEventListeners(action) {\n      var listeners;\n\n      if (this.properties.listeners === 'mouse and touch') {\n        listeners = Object.assign(this.touchListeners, this.mouseListeners);\n      } else {\n        listeners = this.detectTouchScreen() ? this.touchListeners : this.mouseListeners;\n      }\n\n      if (this.properties.resize) {\n        listeners = Object.assign(listeners, this.otherListeners);\n      }\n\n      for (var listener in listeners) {\n        var handler = listeners[listener]; // Window\n\n        if (listener === \"resize\") {\n          if (action === 'addEventListener') {\n            window.addEventListener(listener, this[handler], false);\n          }\n\n          if (action === 'removeEventListener') {\n            window.removeEventListener(listener, this[handler], false);\n          } // Document\n\n        } else if (listener === 'mouseup' || listener === \"mousemove\") {\n          if (action === 'addEventListener') {\n            document.addEventListener(listener, this[handler], {\n              passive: false\n            });\n          }\n\n          if (action === 'removeEventListener') {\n            document.removeEventListener(listener, this[handler], false);\n          } // Element\n\n        } else {\n          if (action === 'addEventListener') {\n            this.element.addEventListener(listener, this[handler], false);\n          }\n\n          if (action === 'removeEventListener') {\n            this.element.removeEventListener(listener, this[handler], false);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(listener) {\n      var handler = this._mouseListeners[listener];\n      window.addEventListener(listener, this[handler], false);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(listener) {\n      var handler = this._mouseListeners[listener];\n      window.removeEventListener(listener, this[handler], false);\n    }\n  }, {\n    key: \"handleLinearSwipe\",\n    value: function handleLinearSwipe(event) {\n      //event.preventDefault();\n      this.i++;\n\n      if (this.i > 3) {\n        this.eventType = this.getLinearSwipeType(event);\n      }\n\n      if (this.eventType === 'horizontal-swipe') {\n        this.runHandler('horizontal-swipe', event);\n      }\n\n      if (this.eventType === 'vertical-swipe') {\n        this.runHandler('vertical-swipe', event);\n      }\n    }\n  }, {\n    key: \"runHandler\",\n    value: function runHandler(eventName, response) {\n      if (this.handlers[eventName]) {\n        this.handlers[eventName](response);\n      }\n    }\n    /*\r\n     * Detection\r\n     */\n\n  }, {\n    key: \"detectPan\",\n    value: function detectPan(touches) {\n      return touches.length === 1 && !this.eventType || this.eventType === 'pan';\n    }\n  }, {\n    key: \"detectDoubleTap\",\n    value: function detectDoubleTap() {\n      var _this2 = this;\n\n      if (this.eventType != undefined) {\n        return;\n      }\n\n      var currentTime = new Date().getTime();\n      var tapLength = currentTime - this.lastTap;\n      clearTimeout(this.doubleTapTimeout);\n\n      if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\n        return true;\n      } else {\n        this.doubleTapTimeout = setTimeout(function () {\n          clearTimeout(_this2.doubleTapTimeout);\n        }, this.doubleTapMinTimeout);\n      }\n\n      this.lastTap = currentTime;\n      return undefined;\n    }\n  }, {\n    key: \"detectTap\",\n    value: function detectTap() {\n      if (this.eventType != undefined) {\n        return;\n      }\n\n      var currentTime = new Date().getTime();\n      var tapLength = currentTime - this.touchstartTime;\n\n      if (tapLength > 0) {\n        if (tapLength < this.tapMinTimeout) {\n          this.runHandler(\"tap\", event);\n        } else {\n          this.runHandler(\"longtap\", event);\n        }\n      }\n    }\n  }, {\n    key: \"detectPinch\",\n    value: function detectPinch(event) {\n      var touches = event.touches;\n      return touches.length === 2 && this.eventType === undefined || this.eventType === 'pinch';\n    }\n  }, {\n    key: \"detectLinearSwipe\",\n    value: function detectLinearSwipe(event) {\n      var touches = event.touches;\n\n      if (touches) {\n        if (touches.length === 1 && !this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n          return this.getLinearSwipeType(event);\n        }\n      } else {\n        if (!this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\n          return this.getLinearSwipeType(event);\n        }\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"getLinearSwipeType\",\n    value: function getLinearSwipeType(event) {\n      if (this.eventType !== 'horizontal-swipe' && this.eventType !== 'vertical-swipe') {\n        var movementX = Math.abs(this.moveLeft(0, event) - this.startX);\n        var movementY = Math.abs(this.moveTop(0, event) - this.startY);\n\n        if (movementY * 3 > movementX) {\n          return 'vertical-swipe';\n        } else {\n          return 'horizontal-swipe';\n        }\n      } else {\n        return this.eventType;\n      }\n    }\n  }, {\n    key: \"getElementPosition\",\n    value: function getElementPosition() {\n      return this.element.getBoundingClientRect();\n    }\n  }, {\n    key: \"getTouchstartPosition\",\n    value: function getTouchstartPosition(event) {\n      this.startX = event.touches[0].clientX - this.elementPosition.left;\n      this.startY = event.touches[0].clientY - this.elementPosition.top;\n    }\n  }, {\n    key: \"getMousedownPosition\",\n    value: function getMousedownPosition(event) {\n      this.startX = event.clientX - this.elementPosition.left;\n      this.startY = event.clientY - this.elementPosition.top;\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft(index, event) {\n      var touches = event.touches;\n\n      if (touches) {\n        return touches[index].clientX - this.elementPosition.left;\n      } else {\n        return event.clientX - this.elementPosition.left;\n      }\n    }\n  }, {\n    key: \"moveTop\",\n    value: function moveTop(index, event) {\n      var touches = event.touches;\n\n      if (touches) {\n        return touches[index].clientY - this.elementPosition.top;\n      } else {\n        return event.clientY - this.elementPosition.top;\n      }\n    }\n  }, {\n    key: \"detectTouchScreen\",\n    value: function detectTouchScreen() {\n      var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n\n      var mq = function mq(query) {\n        return window.matchMedia(query).matches;\n      };\n\n      if ('ontouchstart' in window) {\n        return true;\n      } // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n      // https://git.io/vznFH\n\n\n      var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n      return mq(query);\n    }\n    /* Public properties and methods */\n\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (event) {\n        this.handlers[event] = handler;\n      }\n    }\n  }]);\n\n  return Touches;\n}();\n\nvar Carousel = /*#__PURE__*/function () {\n  function Carousel(properties, utils, cells, container, slide) {\n    var _this3 = this;\n\n    _classCallCheck(this, Carousel);\n\n    this.properties = properties;\n    this.utils = utils;\n    this.cells = cells;\n    this.container = container;\n    this.slide = slide;\n    /* The slide length has been limited by the limitSlideLength() method */\n\n    this.isSlideLengthLimited = false;\n    this.isContentImages = true;\n    this.isLazyLoad = true;\n    this.isContainerLocked = true;\n    this.alignCells = \"left\";\n    this.initialContainerPosition = 0;\n    this.containerPullLimit = 100;\n\n    this.handleTouchstart = function (event) {\n      _this3.container.handleTouchstart();\n\n      _this3.slide.handleTouchstart(event);\n    };\n\n    this.handleHorizontalSwipe = function (event) {\n      _this3.container.handleHorizontalSwipe();\n    };\n\n    this.handleTouchend = function (event) {\n      if (_this3.properties.freeScroll) {\n        _this3.container.handleTouchend();\n      } else {\n        _this3.container.handleTouchend(true);\n\n        _this3.slide.handleTouchend(event);\n      }\n    };\n\n    this.isNextArrowDisabled = function () {\n      return _this3.slide.isNextArrowDisabled();\n    };\n\n    this.isPrevArrowDisabled = function () {\n      return _this3.slide.isPrevArrowDisabled();\n    };\n\n    this.init();\n  }\n\n  _createClass(Carousel, [{\n    key: \"cellLength\",\n    get: function get() {\n      return this.cells.cellLength;\n    }\n  }, {\n    key: \"cellLengthInLightDOMMode\",\n    get: function get() {\n      if (this.images) {\n        var cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n        if (cellLength > this.images.length) {\n          cellLength = this.images.length;\n        }\n\n        return cellLength;\n      } else {\n        return this.cellLength;\n      }\n    }\n  }, {\n    key: \"lastCellIndex\",\n    get: function get() {\n      return this.images.length ? this.images.length - 1 : this.cells.cellLength - 1;\n    }\n  }, {\n    key: \"overflowCellsLimit\",\n    get: function get() {\n      return this.utils.overflowCellsLimit;\n    }\n  }, {\n    key: \"cellLimit\",\n    get: function get() {\n      if (this.isLightDOM) {\n        var cellLimit = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n        if (cellLimit < this.numberOfVisibleCells) {\n          cellLimit = this.numberOfVisibleCells;\n        }\n\n        return cellLimit;\n      } else {\n        return this.properties.images.length;\n      }\n    }\n  }, {\n    key: \"isLightDOM\",\n    get: function get() {\n      return this.properties.lightDOM || this.properties.loop;\n    }\n  }, {\n    key: \"images\",\n    get: function get() {\n      return this.properties.images;\n    }\n  }, {\n    key: \"margin\",\n    get: function get() {\n      return this.properties.margin;\n    }\n  }, {\n    key: \"minSwipeDistance\",\n    get: function get() {\n      return this.properties.minSwipeDistance;\n    }\n  }, {\n    key: \"transitionDuration\",\n    get: function get() {\n      return this.properties.transitionDuration;\n    }\n  }, {\n    key: \"transitionTimingFunction\",\n    get: function get() {\n      return this.properties.transitionTimingFunction;\n    }\n  }, {\n    key: \"fullCellWidth\",\n    get: function get() {\n      return this.properties.cellWidth + this.margin;\n    }\n  }, {\n    key: \"numberOfVisibleCells\",\n    get: function get() {\n      return this.utils.numberOfVisibleCells;\n    }\n  }, {\n    key: \"lapCounter\",\n    get: function get() {\n      return Math.floor(this.slide.counter / this.cellLengthInLightDOMMode);\n    }\n  }, {\n    key: \"slideCounter\",\n    get: function get() {\n      return this.slide.counter;\n    }\n  }, {\n    key: \"updateProperties\",\n    value: function updateProperties(properties) {\n      this.properties = properties;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.cellsElement = this.properties.cellsElement;\n      this.visibleWidth = this.properties.visibleWidth || this.cellsElement.parentElement.clientWidth;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      clearInterval(this.autoplayId);\n    }\n  }, {\n    key: \"lineUpCells\",\n    value: function lineUpCells() {\n      this.cells.lineUp();\n    }\n  }, {\n    key: \"handleTransitionend\",\n    value: function handleTransitionend() {\n      this.slide.handleTransitionend();\n    }\n  }, {\n    key: \"getImage\",\n    value: function getImage(index) {\n      return this.cells.getImage(index);\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      if (!this.isNextArrowDisabled()) {\n        this.slide.next(length);\n      }\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.slide.prev(length);\n    }\n  }, {\n    key: \"autoplay\",\n    value: function autoplay() {\n      var _this4 = this;\n\n      this.autoplayId = setInterval(function () {\n        _this4.next();\n      }, this.properties.autoplayInterval);\n    }\n  }, {\n    key: \"stopAutoplay\",\n    value: function stopAutoplay() {\n      if (this.autoplayId) {\n        clearInterval(this.autoplayId);\n      }\n    }\n  }]);\n\n  return Carousel;\n}();\n\nvar Container = /*#__PURE__*/function () {\n  function Container(carouselProperties, utils, cells) {\n    _classCallCheck(this, Container);\n\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.cells = cells;\n    /* The index of the new position relative to\r\n     * the active index, for example -1 or +1\r\n     */\n\n    this.newPositionIndex = 0;\n    this.isPositionCorrection = false;\n    this.initialPositionX = 0;\n    this.initialElementPositionX = 0;\n    this.isLocked = true;\n    this.pullLimit = 100;\n    this.startTime = 0;\n    this.startX = 0;\n    this.moveX = 0;\n    this.isSwipeInProgress = false;\n    this.init();\n  }\n\n  _createClass(Container, [{\n    key: \"visibleWidth\",\n    get: function get() {\n      return this.utils.visibleWidth;\n    }\n  }, {\n    key: \"overflowCellsLimit\",\n    get: function get() {\n      return this.utils.overflowCellsLimit;\n    }\n  }, {\n    key: \"images\",\n    get: function get() {\n      return this.carouselProperties.images;\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this.carouselProperties.cellsElement;\n    }\n  }, {\n    key: \"freeScroll\",\n    get: function get() {\n      return this.carouselProperties.freeScroll;\n    }\n  }, {\n    key: \"fullCellWidth\",\n    get: function get() {\n      return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n    }\n  }, {\n    key: \"numberOfVisibleCells\",\n    get: function get() {\n      return this.utils.numberOfVisibleCells;\n    }\n  }, {\n    key: \"transitionDuration\",\n    get: function get() {\n      return this.carouselProperties.transitionDuration;\n    }\n  }, {\n    key: \"transitionTimingFunction\",\n    get: function get() {\n      return this.carouselProperties.transitionTimingFunction;\n    }\n  }, {\n    key: \"cellLength\",\n    get: function get() {\n      if (this.images) {\n        return this.images.length;\n      } else {\n        return this.cells.cellLength;\n      }\n    }\n  }, {\n    key: \"cellLengthInLightDOMMode\",\n    get: function get() {\n      if (this.images) {\n        var cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n        if (cellLength > this.images.length) {\n          cellLength = this.images.length;\n        }\n\n        return cellLength;\n      } else {\n        return this.cellLength;\n      }\n    }\n  }, {\n    key: \"tooFewCells\",\n    get: function get() {\n      return this.numberOfVisibleCells > this.cellLength;\n    }\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      return this.tooFewCells;\n    }\n  }, {\n    key: \"margin\",\n    get: function get() {\n      return this.carouselProperties.margin;\n    }\n  }, {\n    key: \"isLightDOM\",\n    get: function get() {\n      return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n    }\n  }, {\n    key: \"updateProperties\",\n    value: function updateProperties(carouselProperties) {\n      this.carouselProperties = carouselProperties;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.setWidth();\n    }\n  }, {\n    key: \"handleTouchstart\",\n    value: function handleTouchstart() {\n      this.startX = this.utils.getStartX(event);\n      this.startTime = new Date().getTime();\n      this.initialElementPositionX = this.getInitialElementPositionX();\n    }\n  }, {\n    key: \"handleHorizontalSwipe\",\n    value: function handleHorizontalSwipe() {\n      if (this.disabled) {\n        return;\n      }\n\n      if (!this.isSwipeInProgress) {\n        this.startX = this.utils.getStartX(event);\n        this.startTime = new Date().getTime();\n        this.initialElementPositionX = this.getInitialElementPositionX();\n      }\n\n      this.isSwipeInProgress = true;\n      this.moveX = this.utils.getMoveX(event);\n      this.move();\n    }\n  }, {\n    key: \"handleTouchend\",\n    value: function handleTouchend() {\n      var simpleProcessing = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (this.disabled) {\n        return;\n      }\n      /* If touchend was passed to the Slide class */\n\n\n      if (simpleProcessing) {\n        this.isSwipeInProgress = false;\n        return;\n      }\n\n      this.isSwipeInProgress = false;\n      this.finishMoving();\n      this.clearInitialValues();\n    }\n  }, {\n    key: \"move\",\n    value: function move() {\n      var positionX = this.getMovePositionX();\n      var isPulled = this.detectPulled();\n      var direction = this.getDirection();\n\n      if (isPulled) {\n        if (isPulled.edge === \"left\" && direction === \"right\" || isPulled.edge === \"right\" && direction === \"left\") {\n          positionX = this.slowdownOnPull(positionX);\n        }\n      }\n\n      this.transformPositionX(positionX, 0);\n\n      if (this.freeScroll) {\n        this.initialPositionX = positionX;\n      }\n\n      if (isPulled) {\n        if (isPulled.edge === 'left' && isPulled.overflowX > this.pullLimit) {\n          this.initialPositionX = 0;\n        }\n\n        if (isPulled.edge === 'right' && isPulled.overflowX > this.pullLimit) {\n          this.initialPositionX = positionX;\n        }\n      }\n    }\n  }, {\n    key: \"getMovePositionX\",\n    value: function getMovePositionX() {\n      var distance = this.getDistance();\n      return this.initialElementPositionX - distance;\n    }\n  }, {\n    key: \"getDistance\",\n    value: function getDistance() {\n      return this.startX - this.moveX;\n    }\n    /* If the container is pulled out of the left or right border */\n\n  }, {\n    key: \"detectPulled\",\n    value: function detectPulled() {\n      var currentPositionX = this.getCurrentPositionX();\n\n      if (currentPositionX > 0) {\n        return {\n          edge: 'left',\n          positionX: currentPositionX,\n          overflowX: Math.abs(currentPositionX)\n        };\n      }\n\n      if (currentPositionX < this.getEndPosition()) {\n        return {\n          edge: 'right',\n          positionX: currentPositionX,\n          overflowX: Math.abs(currentPositionX - this.getEndPosition())\n        };\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"slowdownOnPull\",\n    value: function slowdownOnPull(_positionX) {\n      var distance = Math.abs(this.getDistance());\n      var endPosition = this.getEndPosition();\n      var isPulled = this.detectPulled();\n\n      if (!isPulled) {\n        return 0;\n      }\n\n      var decelerationRatio = 3 + isPulled.overflowX / 50;\n      var positionX = 0;\n\n      if (isPulled.edge === 'left') {\n        if (this.initialElementPositionX < 0) {\n          distance = distance - Math.abs(this.initialElementPositionX);\n        }\n\n        var rubberPositionX = distance / decelerationRatio;\n        positionX = rubberPositionX;\n\n        if (this.initialElementPositionX > 0) {\n          positionX = this.initialElementPositionX + rubberPositionX;\n        }\n\n        if (positionX > this.pullLimit) {\n          positionX = this.pullLimit;\n        }\n      }\n\n      if (isPulled.edge === 'right') {\n        var _rubberPositionX = endPosition + (this.initialElementPositionX - distance - endPosition) / decelerationRatio;\n\n        var containerWidth = this.getWidth();\n        positionX = _rubberPositionX;\n\n        if (this.initialElementPositionX < -(containerWidth - this.visibleWidth)) {\n          positionX = containerWidth - this.visibleWidth + this.initialElementPositionX + _rubberPositionX;\n        }\n\n        if (positionX < endPosition - this.pullLimit) {\n          positionX = endPosition - this.pullLimit;\n        }\n      }\n\n      return positionX;\n    }\n  }, {\n    key: \"finishMoving\",\n    value: function finishMoving() {\n      var positionX = this.getMovePositionX();\n      var newPositionX = 0;\n\n      if (this.freeScroll) {\n        newPositionX = this.getInertia();\n      }\n      /* Align container while pulling */\n\n\n      newPositionX = this.getAlignedPositionOnPull(newPositionX);\n      this.transformPositionX(newPositionX);\n      this.setInitialPosition(positionX);\n    }\n    /* Returns the new position of the container with inertia */\n\n  }, {\n    key: \"getInertia\",\n    value: function getInertia() {\n      var distance = this.getDistance();\n      var currentTime = new Date().getTime();\n      var tapLength = currentTime - this.startTime;\n      var inertia = distance / tapLength * 100;\n      return this.initialPositionX - inertia;\n    }\n  }, {\n    key: \"getAlignedPositionOnPull\",\n    value: function getAlignedPositionOnPull(newPositionX) {\n      var direction = this.getDirection();\n\n      if (direction === 'left') {\n        var endPosition = this.getEndPosition();\n\n        if (newPositionX < endPosition) {\n          return endPosition;\n        }\n      }\n\n      if (direction === 'right') {\n        if (newPositionX > 0) {\n          return 0;\n        }\n      }\n\n      return newPositionX;\n    }\n  }, {\n    key: \"getCurrentPositionX\",\n    value: function getCurrentPositionX() {\n      var parentPosition = this.element.parentElement.getBoundingClientRect();\n      var position = this.element.getBoundingClientRect();\n      return position.left - parentPosition.left;\n    }\n  }, {\n    key: \"getEndPosition\",\n    value: function getEndPosition() {\n      if (this.isLightDOM) {\n        var imagesInContainer = this.cells.imageUtils.getImages();\n        return -(imagesInContainer.length * this.fullCellWidth - this.visibleWidth - this.margin);\n      } else {\n        var width = this.getWidth();\n        var visibleWidth = this.element.parentElement.clientWidth;\n        return visibleWidth - width;\n      }\n    }\n  }, {\n    key: \"transformPositionX\",\n    value: function transformPositionX(value) {\n      var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.transitionDuration;\n\n      if (value === undefined) {\n        return;\n      }\n\n      this.element.style.transition = 'transform ' + duration + 'ms ' + this.transitionTimingFunction;\n      this.element.style.transform = 'translateX(' + value + 'px)';\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      var width = this.cellLengthInLightDOMMode * this.fullCellWidth;\n      var totalImageWidth = this.cellLength * this.fullCellWidth;\n\n      if (totalImageWidth < width) {\n        width = totalImageWidth;\n      }\n\n      return this.isLightDOM ? width : totalImageWidth;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth() {\n      var width = this.getWidth();\n      this.element.style.width = width + \"px\";\n    }\n  }, {\n    key: \"setInitialPosition\",\n    value: function setInitialPosition(position) {\n      this.initialPositionX = position;\n    }\n  }, {\n    key: \"getElementPosition\",\n    value: function getElementPosition() {\n      return this.element.getBoundingClientRect();\n    }\n  }, {\n    key: \"getInitialElementPositionX\",\n    value: function getInitialElementPositionX() {\n      var carouselElementPosition = this.utils.getCarouselElementPosition()['left'];\n      return this.getElementPosition()['left'] - carouselElementPosition;\n    }\n  }, {\n    key: \"clearInitialValues\",\n    value: function clearInitialValues() {\n      this.startX = this.moveX = 0;\n    }\n  }, {\n    key: \"getDirection\",\n    value: function getDirection() {\n      var direction = Math.sign(this.startX - this.moveX);\n\n      if (direction === -1) {\n        return 'right';\n      }\n\n      if (direction === 1) {\n        return 'left';\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return Container;\n}();\n\nvar ImageUtils = /*#__PURE__*/function () {\n  function ImageUtils(element) {\n    _classCallCheck(this, ImageUtils);\n\n    this.cellStack = [];\n    this.element = element;\n  }\n\n  _createClass(ImageUtils, [{\n    key: \"getImages\",\n    value: function getImages() {\n      return this.cellStack.filter(this.filter);\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(cell) {\n      return cell.img !== undefined;\n    }\n  }]);\n\n  return ImageUtils;\n}();\n\nvar Cells = /*#__PURE__*/function () {\n  function Cells(carouselProperties, utils) {\n    _classCallCheck(this, Cells);\n\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.counter = 0;\n    this.imageUtils = new ImageUtils(this.element);\n    this.init(carouselProperties);\n  }\n\n  _createClass(Cells, [{\n    key: \"images\",\n    get: function get() {\n      return this.carouselProperties.images;\n    }\n  }, {\n    key: \"cellLength\",\n    get: function get() {\n      return this.cells ? this.cells.length : 0;\n    }\n  }, {\n    key: \"fullCellWidth\",\n    get: function get() {\n      return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n    }\n  }, {\n    key: \"cellLengthInLightDOMMode\",\n    get: function get() {\n      if (this.images) {\n        var cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\n\n        if (cellLength > this.images.length) {\n          cellLength = this.images.length;\n        }\n\n        return cellLength;\n      } else {\n        return this.cellLength;\n      }\n    }\n  }, {\n    key: \"numberOfVisibleCells\",\n    get: function get() {\n      return this.utils.numberOfVisibleCells;\n    }\n  }, {\n    key: \"overflowCellsLimit\",\n    get: function get() {\n      return this.utils.overflowCellsLimit;\n    }\n  }, {\n    key: \"isLightDOM\",\n    get: function get() {\n      return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n    }\n  }, {\n    key: \"updateProperties\",\n    value: function updateProperties(carouselProperties) {\n      this.carouselProperties = carouselProperties;\n    }\n  }, {\n    key: \"lineUp\",\n    value: function lineUp() {\n      var cells = this.element ? this.element.children : [];\n      this.imageUtils.cellStack = [];\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var positionX = this.getCellPositionInContainer(i);\n        cell.style.transform = 'translateX(' + positionX + 'px)';\n        cell.style.width = this.carouselProperties.cellWidth + 'px';\n\n        if (this.getImage(i)) {\n          this.imageUtils.cellStack.push({\n            index: i,\n            positionX: positionX,\n            img: this.getImage(i)['image']\n          });\n        }\n      }\n\n      ;\n    }\n  }, {\n    key: \"ifSequenceOfCellsIsChanged\",\n    value: function ifSequenceOfCellsIsChanged() {\n      var cells = this.element.children;\n      return cells[0]['style'].transform !== 'translateX(0px)';\n    }\n  }, {\n    key: \"getCellPositionInContainer\",\n    value: function getCellPositionInContainer(cellIndexInDOMTree) {\n      var positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\n      return positionIndex * this.fullCellWidth;\n    }\n  }, {\n    key: \"getCellIndexInContainer\",\n    value: function getCellIndexInContainer(cellIndexInDOMTree) {\n      var positionIndex;\n\n      if (!this.isLightDOM) {\n        return cellIndexInDOMTree;\n      }\n\n      var cellLength = this.cellLengthInLightDOMMode;\n      var counter = this.counter - this.overflowCellsLimit;\n\n      if (counter > cellLength) {\n        counter = counter % cellLength;\n      }\n\n      if (counter < 0) {\n        return cellIndexInDOMTree;\n      } else {\n        positionIndex = cellIndexInDOMTree - counter;\n\n        if (positionIndex < 0) {\n          positionIndex = cellLength + positionIndex;\n        }\n      }\n\n      return positionIndex;\n    }\n  }, {\n    key: \"getImage\",\n    value: function getImage(cellIndex) {\n      if (!this.images) {\n        return;\n      }\n\n      var imageIndex = this.getImageIndex(cellIndex);\n      var file = this.images[imageIndex];\n\n      if (file && !file.type) {\n        file.type = 'image';\n      }\n\n      return {\n        image: this.images[imageIndex],\n        imageIndex: imageIndex\n      };\n    }\n  }, {\n    key: \"getImageIndex\",\n    value: function getImageIndex(cellIndexInDOMTree) {\n      var positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\n      var imageIndex;\n\n      if (this.counter > this.overflowCellsLimit) {\n        var cellLimitOverflow = this.counter - this.overflowCellsLimit;\n        imageIndex = positionIndex + cellLimitOverflow;\n\n        if (this.images && this.carouselProperties.loop) {\n          imageIndex = imageIndex % this.images.length;\n        }\n      } else {\n        imageIndex = cellIndexInDOMTree;\n      }\n\n      return imageIndex;\n    }\n  }, {\n    key: \"setCounter\",\n    value: function setCounter(value) {\n      this.counter = value;\n    }\n  }, {\n    key: \"init\",\n    value: function init(carouselProperties) {\n      this.element = this.carouselProperties.cellsElement;\n      this.cells = this.element.children;\n      this.visibleWidth = this.carouselProperties.visibleWidth || this.element.parentElement.clientWidth;\n    }\n  }]);\n\n  return Cells;\n}();\n\nvar Slide = /*#__PURE__*/function () {\n  function Slide(carouselProperties, utils, cells, container) {\n    _classCallCheck(this, Slide);\n\n    this.carouselProperties = carouselProperties;\n    this.utils = utils;\n    this.cells = cells;\n    this.container = container;\n    this.slideLength = 0;\n    this.isSlideInProgress = false;\n    this.counter = 0;\n    this._counter = 0;\n    this.distance = 0;\n    this.distanceAbs = 0;\n    this.isNotClickOnArrow = false;\n    this.initialPositionX = 0;\n    this.currentPositionX = 0;\n    /* The slide length has been limited by the limitSlideLength() method */\n\n    this.isSlideLengthLimited = false;\n    this.init();\n  }\n\n  _createClass(Slide, [{\n    key: \"fullCellWidth\",\n    get: function get() {\n      return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n    }\n  }, {\n    key: \"margin\",\n    get: function get() {\n      return this.carouselProperties.margin;\n    }\n  }, {\n    key: \"minSwipeDistance\",\n    get: function get() {\n      return this.carouselProperties.minSwipeDistance;\n    }\n  }, {\n    key: \"numberOfVisibleCells\",\n    get: function get() {\n      return this.utils.numberOfVisibleCells;\n    }\n  }, {\n    key: \"visibleCellsOverflowContainer\",\n    get: function get() {\n      return this.utils.visibleCellsOverflowContainer;\n    }\n    /* The position to which the container returns after each slide\r\n     * in the light DUM tree mode.\r\n     */\n\n  }, {\n    key: \"fixedContainerPosition\",\n    get: function get() {\n      return -(this.overflowCellsLimit * this.fullCellWidth);\n    }\n  }, {\n    key: \"overflowCellsLimit\",\n    get: function get() {\n      return this.utils.overflowCellsLimit;\n    }\n  }, {\n    key: \"images\",\n    get: function get() {\n      return this.carouselProperties.images;\n    }\n    /* Number of cell elements in the DUM tree */\n\n  }, {\n    key: \"cellLength\",\n    get: function get() {\n      if (this.isLightDOM) {\n        return this.cells.cellLengthInLightDOMMode;\n      } else {\n        if (this.images) {\n          return this.images.length;\n        } else {\n          return this.cells.cellLength;\n        }\n      }\n    }\n  }, {\n    key: \"isLightDOM\",\n    get: function get() {\n      return this.carouselProperties.lightDOM || this.carouselProperties.loop;\n    }\n  }, {\n    key: \"updateProperties\",\n    value: function updateProperties(carouselProperties) {\n      this.carouselProperties = carouselProperties;\n      this.setVisibleWidth();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\n    }\n  }, {\n    key: \"handleTouchstart\",\n    value: function handleTouchstart() {\n      /* Touchstart event is not called for arrow */\n      this.isNotClickOnArrow = true;\n      this.isSlideLengthLimited = false;\n\n      if (!this.isSlideInProgress) {\n        this.initialPositionX = this.container.getCurrentPositionX();\n      }\n    }\n  }, {\n    key: \"handleTouchend\",\n    value: function handleTouchend() {\n      if (!this.isNotClickOnArrow) {\n        return;\n      }\n\n      this.currentPositionX = this.container.getCurrentPositionX();\n      this.distanceAbs = Math.abs(this.initialPositionX - this.currentPositionX);\n      this.distance = this.initialPositionX - this.currentPositionX;\n      this.direction = this.getDirection();\n      this.isNotClickOnArrow = false;\n      this.handleSlide();\n    }\n  }, {\n    key: \"handleTransitionend\",\n    value: function handleTransitionend() {\n      this.setCounter();\n      this.isSlideInProgress = false;\n\n      if (this.isLightDOM) {\n        this.alignContainerFast();\n      }\n    }\n  }, {\n    key: \"handleSlide\",\n    value: function handleSlide() {\n      var customSlideLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var isUsingButton = customSlideLength;\n      var newPositionX;\n\n      if (isUsingButton && this.isSlideInProgress || !this.direction) {\n        return;\n      }\n      /* Custom slide length is used in arrows */\n\n\n      if (customSlideLength) {\n        this.slideLength = this.limitSlideLength(customSlideLength);\n\n        if (!this.isSlideInProgress) {\n          this.initialPositionX = this.container.getCurrentPositionX();\n        }\n      } else {\n        this.slideLength = this.getSlideLength(this.distanceAbs);\n      }\n      /* Store intermediate counter value */\n\n\n      this._counter = this.getPreliminaryCounter();\n\n      if (this.direction === 'left') {\n        if (!customSlideLength) {\n          this.slideLength = this.limitSlideLength(this.getSlideLength(this.distanceAbs));\n        }\n\n        this._counter = this.getPreliminaryCounter();\n        var isSlidesEnd = this.isSlidesEnd(this._counter);\n        newPositionX = this.getPositionByIndex(this._counter);\n\n        if (isSlidesEnd) {\n          this._counter = this.counter;\n          newPositionX = this.getPositionByIndex(this.counter);\n          this.slideLength = 0;\n        }\n      }\n\n      if (this.direction === 'right') {\n        if (!customSlideLength) {\n          this.slideLength = this.getSlideLength(this.distanceAbs);\n        }\n\n        if (this._counter < 0) {\n          this._counter = this.counter;\n          this.slideLength = this.counter;\n        }\n\n        newPositionX = this.getPositionByIndex(this.counter - this.slideLength);\n      }\n\n      if (this.container.getCurrentPositionX() !== newPositionX) {\n        this.isSlideInProgress = true;\n        this.container.transformPositionX(newPositionX);\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.direction = 'left';\n      this.handleSlide(length);\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.direction = 'right';\n      this.handleSlide(length);\n    }\n  }, {\n    key: \"select\",\n    value: function select(index) {\n      if (index > this.cellLength - 1) {\n        return;\n      }\n\n      if (index > this.counter) {\n        var length = index - this.counter;\n        this.next(length);\n      }\n\n      if (index < this.counter) {\n        var _length = this.counter - index;\n\n        this.prev(_length);\n      }\n    }\n  }, {\n    key: \"getPreliminaryCounter\",\n    value: function getPreliminaryCounter() {\n      if (this.direction === 'left') {\n        return this.counter + this.slideLength;\n      }\n\n      if (this.direction === 'right') {\n        return this.counter - this.slideLength;\n      }\n\n      return 0;\n    }\n    /*\r\n     * Limits the length of the slide during calls to the next() and prev()\r\n     * methods if the specified position is outside the cell length\r\n     */\n\n  }, {\n    key: \"limitSlideLength\",\n    value: function limitSlideLength(slideLength) {\n      if (slideLength > 1) {\n        for (var i = 0; i < slideLength; i++) {\n          var newCounter = this.counter + (slideLength - i);\n\n          if (!this.isSlidesEnd(newCounter)) {\n            slideLength = slideLength - i;\n            this.isSlideLengthLimited = i > 0;\n            break;\n          }\n        }\n      }\n\n      return slideLength;\n    }\n    /* Offset the container to show the last cell completely */\n\n  }, {\n    key: \"getPositionCorrection\",\n    value: function getPositionCorrection(counter) {\n      var correction = 0;\n      var isLastSlide = this.isLastSlide(counter);\n\n      if (this.carouselProperties.loop || this.direction === \"right\") {\n        return 0;\n      }\n\n      if (this.isSlideLengthLimited || isLastSlide) {\n        var cellsWidth = this.cells.cellLengthInLightDOMMode * this.fullCellWidth;\n\n        if (this.visibleWidth < cellsWidth) {\n          correction = -(this.numberOfVisibleCells * this.fullCellWidth - this.visibleWidth - this.margin);\n        }\n\n        if (correction >= -this.margin) {\n          correction = 0;\n        }\n      }\n\n      return correction;\n    }\n  }, {\n    key: \"getSlideLength\",\n    value: function getSlideLength(distanceAbs) {\n      var isLastSlide = this.isLastSlide(this.counter);\n      /* If the last cell does not fit entirely, then the\r\n       * length of the swipe to the left, from the extreme\r\n       * right position, may be shorter than usual.\r\n       */\n\n      if (isLastSlide && this.direction === \"right\") {\n        distanceAbs = distanceAbs + this.visibleWidth % this.fullCellWidth;\n      }\n\n      var length = Math.floor(distanceAbs / this.fullCellWidth);\n\n      if (distanceAbs % this.fullCellWidth >= this.minSwipeDistance) {\n        length++;\n      }\n\n      return length;\n    }\n  }, {\n    key: \"getDistanceAbs\",\n    value: function getDistanceAbs() {\n      return Math.abs(this.initialPositionX - this.currentPositionX);\n    }\n  }, {\n    key: \"getDirection\",\n    value: function getDirection() {\n      var direction = Math.sign(this.initialPositionX - this.currentPositionX);\n\n      if (direction === -1) {\n        return 'right';\n      }\n\n      if (direction === 1) {\n        return 'left';\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"isSlidesEnd\",\n    value: function isSlidesEnd(counter) {\n      var margin = this.visibleCellsOverflowContainer ? 1 : 0;\n      var imageLength = this.images ? this.images.length : this.cells.cellLength;\n\n      if (this.carouselProperties.loop) {\n        return false;\n      } else {\n        return imageLength - counter + margin < this.numberOfVisibleCells;\n      }\n    }\n  }, {\n    key: \"isLastSlide\",\n    value: function isLastSlide(counter) {\n      return this.isSlidesEnd(counter + 1);\n    }\n  }, {\n    key: \"setCounter\",\n    value: function setCounter() {\n      if (this.direction === 'left') {\n        this.counter = this.counter + this.slideLength;\n      }\n\n      if (this.direction === 'right') {\n        this.counter = this.counter - this.slideLength;\n      }\n    }\n  }, {\n    key: \"getPositionByIndex\",\n    value: function getPositionByIndex(_counter) {\n      var correction = this.getPositionCorrection(this.counter + this.slideLength);\n      var position;\n\n      if (correction !== 0) {\n        correction = correction + this.fullCellWidth;\n      }\n\n      if (this.direction === 'right') {\n        correction = 0;\n      }\n\n      if (this.isLightDOM && this.isLightDOMMode(_counter) || this.isLightDOM && this.ifLeftDOMModeAtEnd(_counter)) {\n        var initialPosition = this.getPositionWithoutCorrection(this.initialPositionX);\n        var counterDifference = _counter - this.counter;\n        position = initialPosition - (counterDifference * this.fullCellWidth - correction);\n      } else {\n        position = -(_counter * this.fullCellWidth - correction);\n      }\n\n      position = this.provideSafePosition(position);\n      return position;\n    }\n  }, {\n    key: \"provideSafePosition\",\n    value: function provideSafePosition(position) {\n      var endPosition = this.container.getEndPosition();\n\n      if (this.direction === 'left') {\n        if (position > 0) {\n          position = 0;\n        }\n      }\n\n      if (this.direction === 'right') {\n        if (position < endPosition) {\n          position = endPosition;\n        }\n      }\n\n      return position;\n    }\n  }, {\n    key: \"getPositionWithoutCorrection\",\n    value: function getPositionWithoutCorrection(value) {\n      var remainder = Math.round(value) % this.fullCellWidth;\n\n      if (remainder !== 0) {\n        return value - (this.fullCellWidth + remainder);\n      } else {\n        return value;\n      }\n    }\n  }, {\n    key: \"isNextArrowDisabled\",\n    value: function isNextArrowDisabled() {\n      return this.isLastSlide(this.counter) || !this.visibleCellsOverflowContainer && this.cellLength <= this.numberOfVisibleCells || this.visibleCellsOverflowContainer && this.cellLength < this.numberOfVisibleCells;\n    }\n  }, {\n    key: \"isPrevArrowDisabled\",\n    value: function isPrevArrowDisabled() {\n      return this.counter === 0;\n    }\n  }, {\n    key: \"alignContainerFast\",\n    value: function alignContainerFast() {\n      if (this.isLightDOMMode(this.counter)) {\n        var positionX = this.fixedContainerPosition;\n        this.container.transformPositionX(positionX, 0);\n        this.cells.setCounter(this.counter);\n        this.cells.lineUp();\n      } else if (this.ifLeftDOMModeToBeginning(this.counter)) {\n        /* If we have already exited the light DOM mode but\r\n         * the cells are still out of place\r\n         */\n        if (this.cells.ifSequenceOfCellsIsChanged()) {\n          var _positionX2 = -(this.counter * this.fullCellWidth);\n\n          this.container.transformPositionX(_positionX2, 0);\n          this.cells.setCounter(this.counter);\n          this.cells.lineUp();\n        }\n      } else if (this.ifLeftDOMModeAtEnd(this.counter)) {\n        var containerPositionX = this.container.getCurrentPositionX();\n        var containerWidth = this.container.getWidth();\n        this.visibleWidth;\n\n        if (this.isLastSlide(this.counter) && containerWidth + containerPositionX >= this.visibleWidth) {\n          return;\n        }\n\n        var correction = this.getPositionCorrection(this.counter);\n\n        if (correction !== 0) {\n          correction = correction + this.fullCellWidth;\n        }\n\n        if (this.direction === 'right') {\n          correction = 0;\n        }\n\n        var _positionX3 = this.fixedContainerPosition + correction;\n\n        this.container.transformPositionX(_positionX3, 0);\n        this.cells.setCounter(this.counter);\n        this.cells.lineUp();\n      }\n    }\n  }, {\n    key: \"isLightDOMMode\",\n    value: function isLightDOMMode(counter) {\n      var flag;\n      var remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\n\n      if (!this.isLightDOM) {\n        return false;\n      }\n\n      if (counter > this.overflowCellsLimit && this.direction === \"left\" && counter <= remainderOfCells) {\n        flag = true;\n      }\n\n      if (counter >= this.overflowCellsLimit && this.direction === \"right\" && counter < remainderOfCells) {\n        flag = true;\n      }\n\n      if (this.counter > this.overflowCellsLimit && this.direction === \"left\" && this.counter <= remainderOfCells) {\n        flag = true;\n      }\n\n      if (this.counter >= this.overflowCellsLimit && this.direction === \"right\" && this.counter < remainderOfCells) {\n        flag = true;\n      }\n\n      return flag;\n    }\n  }, {\n    key: \"ifLeftDOMModeAtEnd\",\n    value: function ifLeftDOMModeAtEnd(counter) {\n      var flag;\n      var remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\n\n      if (counter >= remainderOfCells) {\n        flag = true;\n      }\n\n      if (this.counter >= remainderOfCells) {\n        flag = true;\n      }\n\n      return flag;\n    }\n  }, {\n    key: \"ifLeftDOMModeToBeginning\",\n    value: function ifLeftDOMModeToBeginning(counter) {\n      var flag;\n\n      if (counter <= this.overflowCellsLimit) {\n        flag = true;\n      }\n\n      if (this.counter <= this.overflowCellsLimit) {\n        flag = true;\n      }\n\n      return flag;\n    }\n  }, {\n    key: \"setVisibleWidth\",\n    value: function setVisibleWidth() {\n      this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\n    }\n  }]);\n\n  return Slide;\n}();\n\nvar Utils = /*#__PURE__*/function () {\n  function Utils(carouselProperties) {\n    _classCallCheck(this, Utils);\n\n    this.carouselProperties = carouselProperties;\n  }\n\n  _createClass(Utils, [{\n    key: \"images\",\n    get: function get() {\n      return this.carouselProperties.images;\n    }\n  }, {\n    key: \"margin\",\n    get: function get() {\n      return this.carouselProperties.margin;\n    }\n  }, {\n    key: \"overflowCellsLimit\",\n    get: function get() {\n      if (this.images && this.isImagesLessCellLimit) {\n        var overflowCellsLimit = Math.floor((this.images.length - this.numberOfVisibleCells) / 2);\n\n        if (overflowCellsLimit < 0) {\n          overflowCellsLimit = 0;\n        }\n\n        return overflowCellsLimit;\n      } else {\n        return this.carouselProperties.overflowCellsLimit;\n      }\n    }\n  }, {\n    key: \"isImagesLessCellLimit\",\n    get: function get() {\n      return this.carouselProperties.overflowCellsLimit * 2 + this.numberOfVisibleCells > this.images.length;\n    }\n  }, {\n    key: \"numberOfVisibleCells\",\n    get: function get() {\n      return Math.ceil(this.visibleWidth / this.fullCellWidth);\n    }\n  }, {\n    key: \"visibleCellsOverflowContainer\",\n    get: function get() {\n      return this.numberOfVisibleCells * this.fullCellWidth - this.margin > this.visibleWidth;\n    }\n  }, {\n    key: \"fullCellWidth\",\n    get: function get() {\n      return this.carouselProperties.cellWidth + this.carouselProperties.margin;\n    }\n  }, {\n    key: \"visibleWidth\",\n    get: function get() {\n      return this.carouselProperties.visibleWidth || this.carouselProperties.cellsElement.parentElement.clientWidth;\n    }\n  }, {\n    key: \"updateProperties\",\n    value: function updateProperties(carouselProperties) {\n      this.carouselProperties = carouselProperties;\n    }\n  }, {\n    key: \"getStartX\",\n    value: function getStartX(event) {\n      var touches = event.touches;\n      var carouselElementPosition = this.getCarouselElementPosition()['left'];\n      var startX;\n\n      if (touches) {\n        startX = touches[0].clientX - carouselElementPosition;\n      } else {\n        startX = event.clientX - carouselElementPosition;\n      }\n\n      return startX;\n    }\n  }, {\n    key: \"getMoveX\",\n    value: function getMoveX(event) {\n      var touches = event.touches;\n      var carouselElementPositionX = this.getCarouselElementPosition()['left'];\n\n      if (touches) {\n        return touches[0].clientX - carouselElementPositionX;\n      } else {\n        return event.clientX - carouselElementPositionX;\n      }\n    }\n  }, {\n    key: \"getCarouselElementPosition\",\n    value: function getCarouselElementPosition() {\n      return this.carouselProperties.hostElement.getBoundingClientRect();\n    }\n  }]);\n\n  return Utils;\n}();\n\nvar CarouselComponent = /*#__PURE__*/function () {\n  function CarouselComponent(elementRef, ref) {\n    var _this5 = this;\n\n    _classCallCheck(this, CarouselComponent);\n\n    this.elementRef = elementRef;\n    this.ref = ref;\n    this.minTimeout = 30;\n    this.isVideoPlaying = false;\n    this._isCounter = false;\n    this._cellWidth = 200;\n    this._loop = false;\n    this._lightDOM = false;\n    this.isMoving = false;\n    this.isNgContent = false;\n    this.events = new EventEmitter();\n    this.height = 200;\n    this.autoplay = false;\n    this.autoplayInterval = 5000;\n    this.pauseOnHover = true;\n    this.dots = false;\n    this.margin = 10;\n    this.objectFit = 'cover';\n    this.minSwipeDistance = 10;\n    this.transitionDuration = 200;\n    this.transitionTimingFunction = 'ease-out';\n    this.counterSeparator = \" / \";\n    this.overflowCellsLimit = 3;\n    this.listeners = 'mouse and touch';\n    this.cellsToScroll = 1;\n    this.freeScroll = false;\n    this.arrows = true;\n    this.arrowsOutside = false;\n    this.arrowsTheme = 'light';\n    this.hostClassCarousel = true;\n\n    this.handleTouchstart = function (event) {\n      _this5.touches.addEventListeners(\"mousemove\", \"handleMousemove\");\n\n      _this5.carousel.handleTouchstart(event);\n\n      _this5.isMoving = true;\n    };\n\n    this.handleHorizontalSwipe = function (event) {\n      event.preventDefault();\n\n      _this5.carousel.handleHorizontalSwipe(event);\n    };\n\n    this.handleTouchend = function (event) {\n      var touches = event.touches;\n\n      _this5.carousel.handleTouchend(event);\n\n      _this5.touches.removeEventListeners(\"mousemove\", \"handleMousemove\");\n\n      _this5.isMoving = false;\n    };\n\n    this.handleTap = function (event) {\n      var outboundEvent = {\n        name: 'click'\n      };\n      var nodes = Array.prototype.slice.call(_this5.cellsElement.children);\n      var cellElement = event.srcElement.closest(\".carousel-cell\");\n      var i = nodes.indexOf(cellElement);\n      var cellIndex = nodes.indexOf(cellElement);\n\n      if (_this5.images) {//outboundEvent.fileIndex = this.carousel.getFileIndex(i);\n        //outboundEvent.file = this.carousel.getFile(cellIndex);\n      } else {\n        outboundEvent.cellIndex = cellIndex;\n      }\n    };\n  }\n\n  _createClass(CarouselComponent, [{\n    key: \"isContainerLocked\",\n    get: function get() {\n      if (this.carousel) {\n        return this.carousel.isContainerLocked;\n      }\n    }\n  }, {\n    key: \"slideCounter\",\n    get: function get() {\n      if (this.carousel) {\n        return this.carousel.slideCounter;\n      }\n    }\n  }, {\n    key: \"lapCounter\",\n    get: function get() {\n      if (this.carousel) {\n        return this.carousel.lapCounter;\n      }\n    }\n  }, {\n    key: \"isLandscape\",\n    get: function get() {\n      return window.innerWidth > window.innerHeight;\n    }\n  }, {\n    key: \"isSafari\",\n    get: function get() {\n      var ua = navigator.userAgent.toLowerCase();\n\n      if (ua.indexOf('safari') !== -1) {\n        return !(ua.indexOf('chrome') > -1);\n      }\n    }\n  }, {\n    key: \"counter\",\n    get: function get() {\n      var counter;\n\n      if (this.loop) {\n        counter = this.slideCounter % this.cellLength;\n      } else {\n        counter = this.slideCounter;\n      }\n\n      return counter + 1 + this.counterSeparator + this.cellLength;\n    }\n  }, {\n    key: \"cellsElement\",\n    get: function get() {\n      return this.elementRef.nativeElement.querySelector('.carousel-cells');\n    }\n  }, {\n    key: \"isArrows\",\n    get: function get() {\n      return this.arrows && !this.freeScroll;\n    }\n  }, {\n    key: \"isCounter\",\n    get: function get() {\n      return this._isCounter && this.cellLength > 1;\n    },\n    set: function set(value) {\n      if (value) {\n        this._isCounter = value;\n      }\n    }\n  }, {\n    key: \"activeDotIndex\",\n    get: function get() {\n      return this.slideCounter % this.cellLength;\n    }\n  }, {\n    key: \"cellLimit\",\n    get: function get() {\n      if (this.carousel) {\n        return this.carousel.cellLimit;\n      }\n    }\n  }, {\n    key: \"carouselWidth\",\n    get: function get() {\n      return this.elementRef.nativeElement.clientWidth;\n    }\n  }, {\n    key: \"images\",\n    get: function get() {\n      return this._images;\n    },\n    set: function set(images) {\n      this._images = images;\n    }\n  }, {\n    key: \"cellWidth\",\n    set: function set(value) {\n      if (value) {\n        this._cellWidth = value;\n      }\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      if (this.images) {\n        return this._loop;\n      } else {\n        return false;\n      }\n    },\n    set: function set(value) {\n      if (value) {\n        this._loop = value;\n      }\n    }\n  }, {\n    key: \"lightDOM\",\n    get: function get() {\n      if (this.images) {\n        return this._lightDOM;\n      } else {\n        return false;\n      }\n    },\n    set: function set(value) {\n      if (value) {\n        this._lightDOM = value;\n      }\n    }\n  }, {\n    key: \"onWindowResize\",\n    value: function onWindowResize(event) {\n      if (this.utils.visibleWidth !== this.savedCarouselWidth) {\n        this.resize();\n      }\n    }\n  }, {\n    key: \"onMousemove\",\n    value: function onMousemove(event) {\n      if (this.autoplay && this.pauseOnHover) {\n        this.carousel.stopAutoplay();\n      }\n    }\n  }, {\n    key: \"onMouseleave\",\n    value: function onMouseleave(event) {\n      if (this.autoplay && this.pauseOnHover) {\n        this.carousel.autoplay();\n      }\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.isNgContent = this.cellsElement.children.length > 0;\n      this.touches = new Touches({\n        element: this.cellsElement,\n        listeners: this.listeners,\n        mouseListeners: {\n          \"mousedown\": \"handleMousedown\",\n          \"mouseup\": \"handleMouseup\"\n        }\n      });\n      this.touches.on('touchstart', this.handleTouchstart);\n      this.touches.on('horizontal-swipe', this.handleHorizontalSwipe);\n      this.touches.on('touchend', this.handleTouchend);\n      this.touches.on('mousedown', this.handleTouchstart);\n      this.touches.on('mouseup', this.handleTouchend);\n      this.touches.on('tap', this.handleTap);\n      this.setDimensions();\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.initCarousel();\n      this.cellLength = this.getCellLength();\n      this.dotsArr = Array(this.cellLength).fill(1);\n      this.ref.detectChanges();\n      this.carousel.lineUpCells();\n      this.savedCarouselWidth = this.carouselWidth;\n      /* Start detecting changes in the DOM tree */\n\n      this.detectDomChanges();\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      if (changes.width || changes.height || changes.images) {\n        this.setDimensions();\n        this.initCarousel();\n        this.carousel.lineUpCells();\n        this.ref.detectChanges();\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.touches.destroy(); //this.carousel.destroy();\n    }\n  }, {\n    key: \"initCarousel\",\n    value: function initCarousel() {\n      this.carouselProperties = {\n        id: this.id,\n        cellsElement: this.elementRef.nativeElement.querySelector('.carousel-cells'),\n        hostElement: this.elementRef.nativeElement,\n        images: this.images,\n        cellWidth: this.getCellWidth(),\n        loop: this.loop,\n        autoplayInterval: this.autoplayInterval,\n        overflowCellsLimit: this.overflowCellsLimit,\n        visibleWidth: this.width,\n        margin: this.margin,\n        minSwipeDistance: this.minSwipeDistance,\n        transitionDuration: this.transitionDuration,\n        transitionTimingFunction: this.transitionTimingFunction,\n        videoProperties: this.videoProperties,\n        eventHandler: this.events,\n        freeScroll: this.freeScroll,\n        lightDOM: this.lightDOM\n      };\n      this.utils = new Utils(this.carouselProperties);\n      this.cells = new Cells(this.carouselProperties, this.utils);\n      this.container = new Container(this.carouselProperties, this.utils, this.cells);\n      this.slide = new Slide(this.carouselProperties, this.utils, this.cells, this.container);\n      this.carousel = new Carousel(this.carouselProperties, this.utils, this.cells, this.container, this.slide);\n\n      if (this.autoplay) {\n        this.carousel.autoplay();\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      this.landscapeMode = this.isLandscape;\n      this.savedCarouselWidth = this.carouselWidth;\n      this.carouselProperties.cellWidth = this.getCellWidth();\n      this.cells.updateProperties(this.carouselProperties);\n      this.carousel.updateProperties(this.carouselProperties);\n      this.container.updateProperties(this.carouselProperties);\n      this.slide.updateProperties(this.carouselProperties);\n      this.utils.updateProperties(this.carouselProperties);\n      this.carousel.lineUpCells();\n      this.slide.select(0);\n      this.ref.detectChanges();\n    }\n  }, {\n    key: \"detectDomChanges\",\n    value: function detectDomChanges() {\n      var _this6 = this;\n\n      var observer = new MutationObserver(function (mutations) {\n        _this6.onDomChanges();\n      });\n      var config = {\n        attributes: true,\n        childList: true,\n        characterData: true\n      };\n      observer.observe(this.cellsElement, config);\n    }\n  }, {\n    key: \"onDomChanges\",\n    value: function onDomChanges() {\n      this.cellLength = this.getCellLength();\n      this.carousel.lineUpCells();\n      this.ref.detectChanges();\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      this.hostStyleHeight = this.height + 'px';\n      this.hostStyleWidth = this.width + 'px';\n    }\n  }, {\n    key: \"getImage\",\n    value: function getImage(index) {\n      return this.carousel.getImage(index);\n    }\n  }, {\n    key: \"handleTransitionendCellContainer\",\n    value: function handleTransitionendCellContainer(event) {\n      if (event.target['className'] === 'carousel-cells') {\n        this.carousel.handleTransitionend();\n      }\n    }\n  }, {\n    key: \"getCellWidth\",\n    value: function getCellWidth() {\n      var elementWidth = this.carouselWidth;\n\n      if (this.cellsToShow) {\n        var margin = this.cellsToShow > 1 ? this.margin : 0;\n        var totalMargin = margin * (this.cellsToShow - 1);\n        return (elementWidth - totalMargin) / this.cellsToShow;\n      }\n\n      if (this._cellWidth === '100%') {\n        return elementWidth;\n      } else {\n        return this._cellWidth;\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.carousel.next(this.cellsToScroll);\n      this.carousel.stopAutoplay();\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      this.carousel.prev(this.cellsToScroll);\n      this.carousel.stopAutoplay();\n    }\n  }, {\n    key: \"isNextArrowDisabled\",\n    value: function isNextArrowDisabled() {\n      if (this.carousel) {\n        return this.carousel.isNextArrowDisabled();\n      }\n    }\n  }, {\n    key: \"isPrevArrowDisabled\",\n    value: function isPrevArrowDisabled() {\n      if (this.carousel) {\n        return this.carousel.isPrevArrowDisabled();\n      }\n    }\n  }, {\n    key: \"getCellLength\",\n    value: function getCellLength() {\n      if (this.images) {\n        return this.images.length;\n      } else {\n        return this.cellsElement.children.length;\n      }\n    }\n  }]);\n\n  return CarouselComponent;\n}();\n\nCarouselComponent.ɵfac = function CarouselComponent_Factory(t) {\n  return new (t || CarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n};\n\nCarouselComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: CarouselComponent,\n  selectors: [[\"carousel\"], [\"\", \"carousel\", \"\"]],\n  hostVars: 6,\n  hostBindings: function CarouselComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"resize\", function CarouselComponent_resize_HostBindingHandler($event) {\n        return ctx.onWindowResize($event);\n      }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function CarouselComponent_mousemove_HostBindingHandler($event) {\n        return ctx.onMousemove($event);\n      })(\"mouseleave\", function CarouselComponent_mouseleave_HostBindingHandler($event) {\n        return ctx.onMouseleave($event);\n      });\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵstyleProp(\"height\", ctx.hostStyleHeight)(\"width\", ctx.hostStyleWidth);\n      ɵngcc0.ɵɵclassProp(\"carousel\", ctx.hostClassCarousel);\n    }\n  },\n  inputs: {\n    height: \"height\",\n    autoplay: \"autoplay\",\n    autoplayInterval: \"autoplayInterval\",\n    pauseOnHover: \"pauseOnHover\",\n    dots: \"dots\",\n    margin: \"margin\",\n    objectFit: \"objectFit\",\n    minSwipeDistance: \"minSwipeDistance\",\n    transitionDuration: \"transitionDuration\",\n    transitionTimingFunction: \"transitionTimingFunction\",\n    counterSeparator: \"counterSeparator\",\n    overflowCellsLimit: \"overflowCellsLimit\",\n    listeners: \"listeners\",\n    cellsToScroll: \"cellsToScroll\",\n    freeScroll: \"freeScroll\",\n    arrows: \"arrows\",\n    arrowsOutside: \"arrowsOutside\",\n    arrowsTheme: \"arrowsTheme\",\n    isCounter: [\"counter\", \"isCounter\"],\n    images: \"images\",\n    cellWidth: \"cellWidth\",\n    loop: \"loop\",\n    lightDOM: \"lightDOM\",\n    id: \"id\",\n    width: \"width\",\n    borderRadius: \"borderRadius\",\n    videoProperties: \"videoProperties\",\n    cellsToShow: \"cellsToShow\"\n  },\n  outputs: {\n    events: \"events\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c0,\n  decls: 8,\n  vars: 6,\n  consts: [[\"class\", \"carousel-counter\", 4, \"ngIf\"], [1, \"carousel-container\"], [1, \"carousel-cells\", 3, \"transitionend\"], [\"cells\", \"\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"class\", \"carousel-dots\", 4, \"ngIf\"], [\"class\", \"carousel-arrows\", 3, \"carousel-arrows-outside\", \"carousel-dark-arrows\", 4, \"ngIf\"], [1, \"carousel-counter\"], [\"class\", \"carousel-cell\", 3, \"width\", \"border-radius\", 4, \"ngIf\"], [1, \"carousel-cell\"], [\"draggable\", \"false\", 3, \"src\", \"object-fit\", 4, \"ngIf\"], [\"draggable\", \"false\", 3, \"src\"], [1, \"carousel-dots\"], [\"class\", \"carousel-dot\", 3, \"carousel-dot-active\", 4, \"ngFor\", \"ngForOf\"], [1, \"carousel-dot\"], [1, \"carousel-arrows\"], [1, \"carousel-arrow\", \"carousel-arrow-prev\", 3, \"click\"], [1, \"carousel-arrow\", \"carousel-arrow-next\", 3, \"click\"]],\n  template: function CarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, CarouselComponent_div_0_Template, 2, 1, \"div\", 0);\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n      ɵngcc0.ɵɵelementStart(2, \"div\", 2, 3);\n      ɵngcc0.ɵɵlistener(\"transitionend\", function CarouselComponent_Template_div_transitionend_2_listener($event) {\n        return ctx.handleTransitionendCellContainer($event);\n      });\n      ɵngcc0.ɵɵprojection(4);\n      ɵngcc0.ɵɵtemplate(5, CarouselComponent_ng_template_5_Template, 1, 1, \"ng-template\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(6, CarouselComponent_div_6_Template, 2, 1, \"div\", 5);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(7, CarouselComponent_div_7_Template, 3, 8, \"div\", 6);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isCounter);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵclassProp(\"carousel-moving\", ctx.isMoving);\n      ɵngcc0.ɵɵadvance(4);\n      ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.images);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.dots);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isArrows);\n    }\n  },\n  directives: [ɵngcc1.NgIf, ɵngcc1.NgForOf],\n  styles: [\"[_nghost-%COMP%]{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;cursor:grab}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}[_nghost-%COMP%]     .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]     .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]     .carousel-cells .carousel-cell img, [_nghost-%COMP%]     .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}[_nghost-%COMP%]     .carousel-cells .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]     .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot[_ngcontent-%COMP%]{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}[_nghost-%COMP%]   .carousel-dots[_ngcontent-%COMP%]   .carousel-dot-active[_ngcontent-%COMP%]{background-color:#fff}\"]\n});\n\nCarouselComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nCarouselComponent.propDecorators = {\n  events: [{\n    type: Output\n  }],\n  id: [{\n    type: Input\n  }],\n  height: [{\n    type: Input\n  }],\n  width: [{\n    type: Input\n  }],\n  autoplay: [{\n    type: Input\n  }],\n  autoplayInterval: [{\n    type: Input\n  }],\n  pauseOnHover: [{\n    type: Input\n  }],\n  dots: [{\n    type: Input\n  }],\n  borderRadius: [{\n    type: Input\n  }],\n  margin: [{\n    type: Input\n  }],\n  objectFit: [{\n    type: Input\n  }],\n  minSwipeDistance: [{\n    type: Input\n  }],\n  transitionDuration: [{\n    type: Input\n  }],\n  transitionTimingFunction: [{\n    type: Input\n  }],\n  videoProperties: [{\n    type: Input\n  }],\n  counterSeparator: [{\n    type: Input\n  }],\n  overflowCellsLimit: [{\n    type: Input\n  }],\n  listeners: [{\n    type: Input\n  }],\n  cellsToShow: [{\n    type: Input\n  }],\n  cellsToScroll: [{\n    type: Input\n  }],\n  freeScroll: [{\n    type: Input\n  }],\n  arrows: [{\n    type: Input\n  }],\n  arrowsOutside: [{\n    type: Input\n  }],\n  arrowsTheme: [{\n    type: Input\n  }],\n  images: [{\n    type: Input\n  }],\n  cellWidth: [{\n    type: Input,\n    args: ['cellWidth']\n  }],\n  isCounter: [{\n    type: Input,\n    args: ['counter']\n  }],\n  loop: [{\n    type: Input,\n    args: ['loop']\n  }],\n  lightDOM: [{\n    type: Input,\n    args: ['lightDOM']\n  }],\n  hostClassCarousel: [{\n    type: HostBinding,\n    args: ['class.carousel']\n  }],\n  hostStyleHeight: [{\n    type: HostBinding,\n    args: ['style.height']\n  }],\n  hostStyleWidth: [{\n    type: HostBinding,\n    args: ['style.width']\n  }],\n  onWindowResize: [{\n    type: HostListener,\n    args: ['window:resize', ['$event']]\n  }],\n  onMousemove: [{\n    type: HostListener,\n    args: ['mousemove', ['$event']]\n  }],\n  onMouseleave: [{\n    type: HostListener,\n    args: ['mouseleave', ['$event']]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CarouselComponent, [{\n    type: Component,\n    args: [{\n      selector: 'carousel, [carousel]',\n      template: \"<div class=\\\"carousel-counter\\\" *ngIf=\\\"isCounter\\\">{{counter}}</div>\\r\\n\\r\\n<div class=\\\"carousel-container\\\" [class.carousel-moving]=\\\"isMoving\\\">\\r\\n\\t<div class=\\\"carousel-cells\\\" #cells (transitionend)=\\\"handleTransitionendCellContainer($event)\\\">\\r\\n\\t\\t<ng-content></ng-content>\\r\\n\\r\\n\\t\\t<ng-template ngFor let-image [ngForOf]=\\\"images\\\" let-i=\\\"index\\\">\\r\\n\\t\\t\\t<div class=\\\"carousel-cell\\\" \\r\\n\\t\\t\\t\\t[style.width]=\\\"getCellWidth()+'px'\\\"\\r\\n\\t\\t\\t\\t[style.border-radius]=\\\"borderRadius+'px'\\\"\\r\\n\\t\\t\\t\\t*ngIf=\\\"i < cellLimit\\\">\\r\\n\\t\\t\\t\\t<!-- Image -->\\r\\n\\t\\t\\t\\t<img \\r\\n\\t\\t\\t\\t\\t*ngIf=\\\"getImage(i) && getImage(i)['image']\\\" \\r\\n\\t\\t\\t\\t\\t[src]=\\\"getImage(i)['image']['path']\\\"\\r\\n\\t\\t\\t\\t\\t[style.object-fit]=\\\"objectFit\\\"\\r\\n\\t\\t\\t\\t\\tdraggable=\\\"false\\\" />\\r\\n\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</ng-template>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"carousel-dots\\\" *ngIf=\\\"dots\\\">\\r\\n\\t\\t<div class=\\\"carousel-dot\\\" [class.carousel-dot-active]=\\\"i === activeDotIndex\\\" *ngFor=\\\"let dot of dotsArr; index as i\\\"></div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"carousel-arrows\\\" \\r\\n\\t[class.carousel-arrows-outside]=\\\"arrowsOutside\\\" \\r\\n\\t[class.carousel-dark-arrows]=\\\"arrowsTheme === 'dark'\\\"\\r\\n\\t*ngIf=\\\"isArrows\\\">\\r\\n\\t\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-prev\\\" [class.carousel-arrow-disabled]=\\\"isPrevArrowDisabled()\\\" (click)=\\\"prev()\\\"></div>\\r\\n\\t<div class=\\\"carousel-arrow carousel-arrow-next\\\" [class.carousel-arrow-disabled]=\\\"isNextArrowDisabled()\\\" (click)=\\\"next()\\\"></div>\\r\\n</div>\",\n      styles: [\":host{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}:host .carousel-container{overflow:hidden;width:100%;height:100%;cursor:grab}:host .carousel-container.carousel-moving{cursor:grabbing}:host .carousel-counter{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:8px;right:24px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:11px;color:#fff;padding:5px 7px;line-height:normal}:host ::ng-deep .carousel-cells{transition:transform .2s;width:100%;height:100%;display:block;will-change:transform}:host ::ng-deep .carousel-cells .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}:host ::ng-deep .carousel-cells .carousel-cell{width:100%;height:100%;position:absolute;overflow:hidden}:host ::ng-deep .carousel-cells .carousel-cell img,:host ::ng-deep .carousel-cells .carousel-cell video{width:100%;height:100%;position:relative;object-fit:contain}:host ::ng-deep .carousel-cells .carousel-cell img.swiper-hide{display:none}:host ::ng-deep .carousel-cells .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}:host .carousel-arrow{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:50%;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}:host .carousel-arrow-prev{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}:host .carousel-arrow-next{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}:host .carousel-arrows-outside .carousel-arrow-prev{left:-60px}:host .carousel-arrows-outside .carousel-arrow-next{right:-60px}:host .carousel-dark-arrows .carousel-arrow{filter:invert(1)}:host .carousel-arrow-disabled{cursor:default;opacity:.5}:host .carousel-dots{position:absolute;left:0;right:0;bottom:0;z-index:10;text-align:center}:host .carousel-dots .carousel-dot{display:inline-block;border:2px solid #fff;border-radius:100px;margin:4px;width:8px;height:8px}:host .carousel-dots .carousel-dot-active{background-color:#fff}\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }];\n  }, {\n    events: [{\n      type: Output\n    }],\n    height: [{\n      type: Input\n    }],\n    autoplay: [{\n      type: Input\n    }],\n    autoplayInterval: [{\n      type: Input\n    }],\n    pauseOnHover: [{\n      type: Input\n    }],\n    dots: [{\n      type: Input\n    }],\n    margin: [{\n      type: Input\n    }],\n    objectFit: [{\n      type: Input\n    }],\n    minSwipeDistance: [{\n      type: Input\n    }],\n    transitionDuration: [{\n      type: Input\n    }],\n    transitionTimingFunction: [{\n      type: Input\n    }],\n    counterSeparator: [{\n      type: Input\n    }],\n    overflowCellsLimit: [{\n      type: Input\n    }],\n    listeners: [{\n      type: Input\n    }],\n    cellsToScroll: [{\n      type: Input\n    }],\n    freeScroll: [{\n      type: Input\n    }],\n    arrows: [{\n      type: Input\n    }],\n    arrowsOutside: [{\n      type: Input\n    }],\n    arrowsTheme: [{\n      type: Input\n    }],\n    hostClassCarousel: [{\n      type: HostBinding,\n      args: ['class.carousel']\n    }],\n    isCounter: [{\n      type: Input,\n      args: ['counter']\n    }],\n    images: [{\n      type: Input\n    }],\n    cellWidth: [{\n      type: Input,\n      args: ['cellWidth']\n    }],\n    loop: [{\n      type: Input,\n      args: ['loop']\n    }],\n    lightDOM: [{\n      type: Input,\n      args: ['lightDOM']\n    }],\n    onWindowResize: [{\n      type: HostListener,\n      args: ['window:resize', ['$event']]\n    }],\n    onMousemove: [{\n      type: HostListener,\n      args: ['mousemove', ['$event']]\n    }],\n    onMouseleave: [{\n      type: HostListener,\n      args: ['mouseleave', ['$event']]\n    }],\n    hostStyleHeight: [{\n      type: HostBinding,\n      args: ['style.height']\n    }],\n    hostStyleWidth: [{\n      type: HostBinding,\n      args: ['style.width']\n    }],\n    id: [{\n      type: Input\n    }],\n    width: [{\n      type: Input\n    }],\n    borderRadius: [{\n      type: Input\n    }],\n    videoProperties: [{\n      type: Input\n    }],\n    cellsToShow: [{\n      type: Input\n    }]\n  });\n})();\n\nvar IvyCarouselModule = /*#__PURE__*/_createClass(function IvyCarouselModule() {\n  _classCallCheck(this, IvyCarouselModule);\n});\n\nIvyCarouselModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: IvyCarouselModule\n});\nIvyCarouselModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function IvyCarouselModule_Factory(t) {\n    return new (t || IvyCarouselModule)();\n  },\n  providers: [],\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(IvyCarouselModule, {\n    declarations: function declarations() {\n      return [CarouselComponent];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [CarouselComponent];\n    }\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(IvyCarouselModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [CarouselComponent],\n      imports: [CommonModule],\n      exports: [CarouselComponent],\n      providers: [],\n      bootstrap: [],\n      entryComponents: [CarouselComponent]\n    }]\n  }], null, null);\n})();\n/*\r\n * Public API Surface of angular-responsive-carousel\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { CarouselComponent, IvyCarouselModule };","map":{"version":3,"sources":["../../../projects/angular-responsive-carousel/src/lib/touches.ts","../../../projects/angular-responsive-carousel/src/lib/carousel.ts","../../../projects/angular-responsive-carousel/src/lib/container.ts","../../../projects/angular-responsive-carousel/src/lib/cells.ts","../../../projects/angular-responsive-carousel/src/lib/slide.ts","../../../projects/angular-responsive-carousel/src/lib/utils.ts","../../../projects/angular-responsive-carousel/src/lib/carousel.component.ts","../../../projects/angular-responsive-carousel/src/lib/carousel.module.ts","../../../projects/angular-responsive-carousel/src/public-api.ts","../../../projects/angular-responsive-carousel/src/angular-responsive-carousel.ts"],"names":[],"mappings":"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","sourcesContent":["export interface Properties {\r\n    element: HTMLElement;\r\n    listeners?: 'auto' | 'mouse and touch';\r\n    touchListeners?: any;\r\n    mouseListeners?: any;\r\n    otherListeners?: any;\r\n    resize?: boolean;\r\n}\r\n\r\nexport type EventType = undefined | 'touchend' | 'pan' | 'pinch' | 'horizontal-swipe' | 'vertical-swipe' | 'tap' | 'longtap';\r\nexport type TouchHandler = 'handleTouchstart' | 'handleTouchmove' | 'handleTouchend';\r\nexport type MouseHandler = 'handleMousedown' | 'handleMousemove' | 'handleMouseup';\r\n\r\nexport class Touches {\r\n    properties: Properties;\r\n    element: HTMLElement;\r\n    elementPosition: ClientRect;\r\n    eventType: EventType = undefined;\r\n    handlers: any = {};\r\n    startX = 0;\r\n    startY = 0;\r\n    lastTap = 0;\r\n    doubleTapTimeout: any;\r\n    doubleTapMinTimeout = 300;\r\n    tapMinTimeout = 200;\r\n    touchstartTime = 0;\r\n    i: number = 0;\r\n    isMousedown = false;\r\n\r\n    _touchListeners: any = {\r\n        \"touchstart\": \"handleTouchstart\",\r\n        \"touchmove\": \"handleTouchmove\",\r\n        \"touchend\": \"handleTouchend\"\r\n    }\r\n    _mouseListeners: any = {\r\n        \"mousedown\": \"handleMousedown\",\r\n        \"mousemove\": \"handleMousemove\",\r\n        \"mouseup\": \"handleMouseup\",\r\n        \"wheel\": \"handleWheel\"\r\n    }\r\n    _otherListeners: any = {\r\n        \"resize\": \"handleResize\"\r\n    }\r\n\r\n    get touchListeners() {\r\n        return this.properties.touchListeners ? this.properties.touchListeners : this._touchListeners;\r\n    }\r\n\r\n    get mouseListeners() {\r\n        return this.properties.mouseListeners ? this.properties.mouseListeners : this._mouseListeners;\r\n    }\r\n\r\n    get otherListeners() {\r\n        return this.properties.otherListeners ? this.properties.otherListeners : this._otherListeners;\r\n    }\r\n\r\n    constructor(properties: Properties) {\r\n        this.properties = properties;\r\n        this.element = this.properties.element;\r\n        this.elementPosition = this.getElementPosition();\r\n\r\n        this.toggleEventListeners('addEventListener');\r\n    }\r\n\r\n    destroy() {\r\n        this.toggleEventListeners('removeEventListener');\r\n    }\r\n\r\n    toggleEventListeners(action: 'addEventListener' | 'removeEventListener') {\r\n        let listeners;\r\n\r\n        if (this.properties.listeners === 'mouse and touch') {\r\n            listeners = Object.assign(this.touchListeners, this.mouseListeners);\r\n        } else {\r\n            listeners = this.detectTouchScreen() ? this.touchListeners : this.mouseListeners;\r\n        }\r\n\r\n        if (this.properties.resize) {\r\n            listeners = Object.assign(listeners, this.otherListeners);\r\n        }\r\n\r\n        for (var listener in listeners) {\r\n            const handler: MouseHandler = listeners[listener];\r\n\r\n            // Window\r\n            if (listener === \"resize\") {\r\n                if (action === 'addEventListener') {\r\n                    window.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    window.removeEventListener(listener, this[handler], false);\r\n                }\r\n            // Document\r\n            } else if (listener === 'mouseup' || listener === \"mousemove\") {\r\n                if (action === 'addEventListener') {\r\n                    document.addEventListener(listener, this[handler], {passive: false});\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    document.removeEventListener(listener, this[handler], false);\r\n                }\r\n            // Element\r\n            } else {\r\n                if (action === 'addEventListener') {\r\n                    this.element.addEventListener(listener, this[handler], false);\r\n                }\r\n                if (action === 'removeEventListener') {\r\n                    this.element.removeEventListener(listener, this[handler], false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    addEventListeners(listener: string) {\r\n        const handler: MouseHandler = this._mouseListeners[listener];\r\n        window.addEventListener(listener, this[handler], false);\r\n    }\r\n\r\n    removeEventListeners(listener: string) {\r\n        const handler: MouseHandler = this._mouseListeners[listener];\r\n        window.removeEventListener(listener, this[handler], false);\r\n    }\r\n\r\n    /*\r\n     * Listeners\r\n     */\r\n\r\n    /* Touchstart */\r\n\r\n    handleTouchstart = (event: any) => {\r\n        this.elementPosition = this.getElementPosition();\r\n        this.touchstartTime = new Date().getTime();\r\n\r\n        if (this.eventType === undefined) {\r\n            this.getTouchstartPosition(event);\r\n        }\r\n\r\n        this.runHandler(\"touchstart\", event);\r\n    }\r\n\r\n\r\n    /* Touchmove */\r\n\r\n    handleTouchmove = (event: any) => {\r\n        const touches = event.touches;\r\n\r\n        // Pan\r\n        if (this.detectPan(touches)) {\r\n            this.runHandler(\"pan\", event);\r\n        }\r\n\r\n        // Pinch\r\n        if (this.detectPinch(event)) {\r\n            this.runHandler(\"pinch\", event);\r\n        }\r\n\r\n        // Linear swipe\r\n        switch (this.detectLinearSwipe(event)) {\r\n            case \"horizontal-swipe\":\r\n                event.swipeType = \"horizontal-swipe\";\r\n                this.runHandler(\"horizontal-swipe\", event);\r\n                break;\r\n            case \"vertical-swipe\":\r\n                event.swipeType = \"vertical-swipe\";\r\n                this.runHandler(\"vertical-swipe\", event);\r\n                break;\r\n        }\r\n\r\n        // Linear swipe\r\n        if (this.detectLinearSwipe(event) ||\r\n            this.eventType === 'horizontal-swipe' ||\r\n            this.eventType === 'vertical-swipe') {\r\n\r\n            this.handleLinearSwipe(event);\r\n        }\r\n    }\r\n\r\n    handleLinearSwipe(event: any) {\r\n        //event.preventDefault();\r\n\r\n        this.i++;\r\n\r\n        if (this.i > 3) {\r\n            this.eventType = this.getLinearSwipeType(event);\r\n        }\r\n\r\n        if (this.eventType === 'horizontal-swipe') {\r\n            this.runHandler('horizontal-swipe', event);\r\n        }\r\n\r\n        if (this.eventType === 'vertical-swipe') {\r\n            this.runHandler('vertical-swipe', event);\r\n        }\r\n    }\r\n\r\n\r\n    /* Touchend */\r\n\r\n    handleTouchend = (event: any) => {\r\n        const touches = event.touches;\r\n\r\n        // Double Tap\r\n        if (this.detectDoubleTap()) {\r\n            this.runHandler(\"double-tap\", event);\r\n        }\r\n\r\n        // Tap\r\n        this.detectTap();\r\n\r\n        this.runHandler(\"touchend\", event);\r\n        this.eventType = 'touchend';\r\n\r\n        if (touches && touches.length === 0) {\r\n            this.eventType = undefined;\r\n            this.i = 0;\r\n        }\r\n    }\r\n\r\n\r\n    /* Mousedown */\r\n\r\n    handleMousedown = (event: any) => {\r\n        this.isMousedown = true;\r\n        this.elementPosition = this.getElementPosition();\r\n        this.touchstartTime = new Date().getTime();\r\n\r\n        if (this.eventType === undefined) {\r\n            this.getMousedownPosition(event);\r\n        }\r\n\r\n        this.runHandler(\"mousedown\", event);\r\n    }\r\n\r\n\r\n    /* Mousemove */\r\n\r\n    handleMousemove = (event: any) => {\r\n        //event.preventDefault();\r\n        \r\n        if (!this.isMousedown) {\r\n            return;\r\n        }\r\n\r\n        // Pan\r\n        this.runHandler(\"pan\", event);\r\n\r\n        // Linear swipe\r\n        switch (this.detectLinearSwipe(event)) {\r\n            case \"horizontal-swipe\":\r\n                event.swipeType = \"horizontal-swipe\";\r\n                this.runHandler(\"horizontal-swipe\", event);\r\n                break;\r\n            case \"vertical-swipe\":\r\n                event.swipeType = \"vertical-swipe\";\r\n                this.runHandler(\"vertical-swipe\", event);\r\n                break;\r\n        }\r\n\r\n        // Linear swipe\r\n        if (this.detectLinearSwipe(event) ||\r\n            this.eventType === 'horizontal-swipe' ||\r\n            this.eventType === 'vertical-swipe') {\r\n\r\n            this.handleLinearSwipe(event);\r\n        }\r\n    }\r\n\r\n\r\n    /* Mouseup */\r\n\r\n    handleMouseup = (event: any) => {\r\n\r\n        // Tap\r\n        this.detectTap();\r\n\r\n        this.isMousedown = false;\r\n        this.runHandler(\"mouseup\", event);\r\n        this.eventType = undefined;\r\n        this.i = 0;\r\n    }\r\n\r\n\r\n    /* Wheel */\r\n\r\n    handleWheel = (event: any) => {\r\n        this.runHandler(\"wheel\", event);\r\n    }\r\n\r\n    /* Resize */\r\n\r\n    handleResize = (event: any) => {\r\n        this.runHandler(\"resize\", event);\r\n    }\r\n\r\n    runHandler(eventName: any, response: any) {\r\n        if (this.handlers[eventName]) {\r\n            this.handlers[eventName](response);\r\n        }\r\n    }\r\n\r\n\r\n    /*\r\n     * Detection\r\n     */\r\n\r\n    detectPan(touches: any) {\r\n        return touches.length === 1 && !this.eventType || this.eventType === 'pan';\r\n    }\r\n\r\n    detectDoubleTap() {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.lastTap;\r\n\r\n        clearTimeout(this.doubleTapTimeout);\r\n\r\n        if (tapLength < this.doubleTapMinTimeout && tapLength > 0) {\r\n            return true;\r\n        } else {\r\n            this.doubleTapTimeout = setTimeout(() => {\r\n                clearTimeout(this.doubleTapTimeout);\r\n            }, this.doubleTapMinTimeout);\r\n        }\r\n        this.lastTap = currentTime;\r\n\r\n        return undefined;\r\n    }\r\n\r\n    detectTap(): void {\r\n        if (this.eventType != undefined) {\r\n            return;\r\n        }\r\n\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.touchstartTime;\r\n\r\n        if (tapLength > 0) {\r\n            if (tapLength < this.tapMinTimeout) {\r\n                this.runHandler(\"tap\", event);\r\n            } else {\r\n                this.runHandler(\"longtap\", event);\r\n            }\r\n        }\r\n    }\r\n\r\n    detectPinch(event: any) {\r\n        const touches = event.touches;\r\n        return (touches.length === 2 && this.eventType === undefined) || this.eventType === 'pinch';\r\n    }\r\n\r\n    detectLinearSwipe(event: any) {\r\n        const touches = event.touches;\r\n\r\n        if (touches) {\r\n            if (touches.length === 1 && !this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        } else {\r\n            if (!this.eventType || this.eventType === 'horizontal-swipe' || this.eventType === 'vertical-swipe') {\r\n                return this.getLinearSwipeType(event);\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    getLinearSwipeType(event: any) {\r\n        if (this.eventType !== 'horizontal-swipe' && this.eventType !== 'vertical-swipe') {\r\n            const movementX = Math.abs(this.moveLeft(0, event) - this.startX);\r\n            const movementY = Math.abs(this.moveTop(0, event) - this.startY);\r\n\r\n            if ((movementY * 3) > movementX) {\r\n                return 'vertical-swipe';\r\n            } else {\r\n                return 'horizontal-swipe';\r\n            }\r\n        } else {\r\n            return this.eventType;\r\n        }\r\n    }\r\n\r\n    getElementPosition() {\r\n        return this.element.getBoundingClientRect();\r\n    }\r\n\r\n    getTouchstartPosition(event: any) {\r\n        this.startX = event.touches[0].clientX - this.elementPosition.left;\r\n        this.startY = event.touches[0].clientY - this.elementPosition.top;\r\n    }\r\n\r\n    getMousedownPosition(event: any) {\r\n        this.startX = event.clientX - this.elementPosition.left;\r\n        this.startY = event.clientY - this.elementPosition.top;\r\n    }\r\n\r\n    moveLeft(index: any, event: any) {\r\n        const touches = event.touches;\r\n\r\n        if (touches) {\r\n            return touches[index].clientX - this.elementPosition.left;\r\n        } else {\r\n            return event.clientX - this.elementPosition.left;\r\n        }\r\n    }\r\n\r\n    moveTop(index: any, event: any) {\r\n        const touches = event.touches;\r\n\r\n        if (touches) {\r\n            return touches[index].clientY - this.elementPosition.top;\r\n        } else {\r\n            return event.clientY - this.elementPosition.top;\r\n        }\r\n    }\r\n\r\n    detectTouchScreen() {\r\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n        var mq = function(query: any) {\r\n            return window.matchMedia(query).matches;\r\n        }\r\n\r\n        if (('ontouchstart' in window)) {\r\n            return true;\r\n        }\r\n\r\n        // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n        // https://git.io/vznFH\r\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\r\n        return mq(query);\r\n    }\r\n\r\n\r\n    /* Public properties and methods */\r\n    on(event: EventType, handler: Function) {\r\n        if (event) {\r\n            this.handlers[event] = handler;\r\n        }\r\n    }\r\n}","import {Properties} from './interfaces';\r\n\r\nexport class Carousel {\r\n    cellsElement: HTMLElement | undefined;\r\n\r\n    /* The slide length has been limited by the limitSlideLength() method */\r\n    isSlideLengthLimited: boolean = false;\r\n\r\n    isContentImages: boolean = true;\r\n    visibleWidth!: number;\r\n    isLazyLoad: boolean = true;\r\n    isContainerLocked: boolean = true;\r\n    alignCells: \"left\" | \"center\" = \"left\";\r\n    initialContainerPosition: number = 0;\r\n    autoplayId: any;\r\n    containerPullLimit = 100;\r\n\r\n    get cellLength() {\r\n        return this.cells.cellLength;\r\n    }\r\n\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        } else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n\r\n    get lastCellIndex() {\r\n        return this.images.length ? (this.images.length - 1) : (this.cells.cellLength - 1);\r\n    }\r\n\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n\r\n    get cellLimit() {\r\n        if (this.isLightDOM) {\r\n            let cellLimit = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n\r\n            if (cellLimit < this.numberOfVisibleCells) {\r\n                cellLimit = this.numberOfVisibleCells;\r\n            }\r\n\r\n            return cellLimit;\r\n        } else {\r\n            return this.properties.images.length;\r\n        }\r\n    }\r\n\r\n    get isLightDOM() {\r\n        return this.properties.lightDOM || this.properties.loop;\r\n    }\r\n\r\n    get images() {\r\n        return this.properties.images;\r\n    }\r\n\r\n    get margin() {\r\n        return this.properties.margin;\r\n    }\r\n\r\n    get minSwipeDistance() {\r\n        return this.properties.minSwipeDistance;\r\n    }\r\n\r\n    get transitionDuration() {\r\n        return this.properties.transitionDuration;\r\n    }\r\n\r\n    get transitionTimingFunction() {\r\n        return this.properties.transitionTimingFunction;\r\n    }\r\n\r\n    get fullCellWidth() {\r\n        return this.properties.cellWidth + this.margin;\r\n    }\r\n\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n\r\n    get lapCounter() {\r\n        return Math.floor(this.slide.counter / this.cellLengthInLightDOMMode);\r\n    }\r\n\r\n    get slideCounter() {\r\n        return this.slide.counter;\r\n    }\r\n\r\n    constructor(\r\n        private properties: Properties,\r\n        private utils: any,\r\n        private cells: any,\r\n        private container: any,\r\n        private slide: any) {\r\n\r\n        this.init();\r\n    }\r\n\r\n    updateProperties(properties: Properties) {\r\n        this.properties = properties;\r\n    }\r\n\r\n    init() {\r\n        this.cellsElement = this.properties.cellsElement;\r\n        this.visibleWidth = this.properties.visibleWidth || this.cellsElement!.parentElement!.clientWidth;\r\n    }\r\n\r\n    destroy() {\r\n        clearInterval(this.autoplayId);\r\n    }\r\n\r\n    lineUpCells() {\r\n        this.cells.lineUp();\r\n    }\r\n\r\n    handleTouchstart = (event: any) => {\r\n        this.container.handleTouchstart();\r\n        this.slide.handleTouchstart(event);\r\n    }\r\n\r\n    handleHorizontalSwipe = (event: any) => {\r\n        this.container.handleHorizontalSwipe();\r\n    }\r\n\r\n    handleTouchend = (event: any) => {\r\n        if (this.properties.freeScroll) {\r\n            this.container.handleTouchend();\r\n        } else {\r\n            this.container.handleTouchend(true);\r\n            this.slide.handleTouchend(event);\r\n        }\r\n    }\r\n\r\n    handleTransitionend() {\r\n        this.slide.handleTransitionend();\r\n    }\r\n\r\n    getImage(index:number) {\r\n        return this.cells.getImage(index);\r\n    }\r\n\r\n    next(length: number = 1) {\r\n        if (!this.isNextArrowDisabled()) {\r\n            this.slide.next(length);\r\n        }\r\n    }\r\n\r\n    prev(length: number = 1) {\r\n        this.slide.prev(length);\r\n    }\r\n\r\n    isNextArrowDisabled = () => {\r\n        return this.slide.isNextArrowDisabled();\r\n    }\r\n\r\n    isPrevArrowDisabled = () => {\r\n        return this.slide.isPrevArrowDisabled();\r\n    }\r\n\r\n    autoplay() {\r\n        this.autoplayId = setInterval(() => {\r\n            this.next();\r\n        }, this.properties.autoplayInterval);\r\n    }\r\n\r\n    stopAutoplay() {\r\n        if (this.autoplayId) {\r\n            clearInterval(this.autoplayId);\r\n        }\r\n    }\r\n}","import {Properties as CarouselProperties} from './interfaces';\r\n\r\nexport class Container {\r\n    /* The index of the new position relative to \r\n     * the active index, for example -1 or +1 \r\n     */\r\n    newPositionIndex: number = 0;\r\n    isPositionCorrection: boolean = false;\r\n    initialPositionX: number = 0;\r\n    initialElementPositionX: number = 0;\r\n    isLocked: boolean = true;\r\n    pullLimit: number = 100;\r\n    startTime: number = 0;\r\n    startX: number = 0;\r\n    moveX: number = 0;\r\n    isSwipeInProgress: boolean = false;\r\n\r\n    get visibleWidth() {\r\n        return this.utils.visibleWidth;\r\n    }\r\n\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n\r\n    get element() {\r\n        return this.carouselProperties.cellsElement;\r\n    }\r\n\r\n    get freeScroll() {\r\n        return this.carouselProperties.freeScroll;\r\n    }\r\n\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n\r\n    get transitionDuration() {\r\n        return this.carouselProperties.transitionDuration;\r\n    }\r\n\r\n    get transitionTimingFunction() {\r\n        return this.carouselProperties.transitionTimingFunction;\r\n    }\r\n\r\n    get cellLength() {\r\n        if (this.images) {\r\n            return this.images.length;\r\n        } else {\r\n            return this.cells.cellLength;\r\n        }\r\n    }\r\n\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        } else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n\r\n    get tooFewCells() {\r\n        return this.numberOfVisibleCells > this.cellLength;\r\n    }\r\n\r\n    get disabled() {\r\n        return this.tooFewCells;\r\n    }\r\n\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n\r\n    constructor(private carouselProperties: CarouselProperties,\r\n        private utils:any,\r\n        private cells:any) {\r\n\r\n        this.init()\r\n    }\r\n\r\n    updateProperties(carouselProperties: CarouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n\r\n    init() {\r\n        this.setWidth();\r\n    }\r\n\r\n    handleTouchstart() {\r\n        this.startX = this.utils.getStartX(event);\r\n        this.startTime = new Date().getTime();\r\n        this.initialElementPositionX = this.getInitialElementPositionX();\r\n    }\r\n\r\n    handleHorizontalSwipe() {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isSwipeInProgress) {\r\n            this.startX = this.utils.getStartX(event);\r\n            this.startTime = new Date().getTime();\r\n            this.initialElementPositionX = this.getInitialElementPositionX();\r\n        }\r\n\r\n        this.isSwipeInProgress = true;\r\n        this.moveX = this.utils.getMoveX(event);\r\n        this.move();\r\n    }\r\n\r\n    handleTouchend(simpleProcessing: boolean = false) {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        /* If touchend was passed to the Slide class */\r\n        if (simpleProcessing) {\r\n            this.isSwipeInProgress = false;\r\n            return;\r\n        }\r\n\r\n        this.isSwipeInProgress = false;\r\n        this.finishMoving();\r\n        this.clearInitialValues();\r\n    }\r\n\r\n    move() {\r\n        let positionX: number = this.getMovePositionX();\r\n        const isPulled = this.detectPulled();\r\n        const direction = this.getDirection();\r\n\r\n        if (isPulled) {\r\n            if (isPulled.edge === \"left\" && direction === \"right\" ||\r\n                isPulled.edge === \"right\" && direction === \"left\") {\r\n                positionX = this.slowdownOnPull(positionX);\r\n            }\r\n        }\r\n\r\n        this.transformPositionX(positionX, 0);\r\n\r\n        if (this.freeScroll) {\r\n            this.initialPositionX = positionX;\r\n        }\r\n\r\n        if (isPulled) {\r\n            if (isPulled.edge === 'left' && isPulled.overflowX > this.pullLimit) {\r\n                this.initialPositionX = 0;\r\n            }\r\n            if (isPulled.edge === 'right' && isPulled.overflowX > this.pullLimit) {\r\n                this.initialPositionX = positionX;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMovePositionX() {\r\n        const distance = this.getDistance();\r\n        return this.initialElementPositionX - distance;\r\n    }\r\n\r\n    getDistance() {\r\n        return this.startX - this.moveX;\r\n    }\r\n\r\n    /* If the container is pulled out of the left or right border */\r\n    detectPulled() {\r\n        const currentPositionX = this.getCurrentPositionX();\r\n\r\n        if (currentPositionX > 0) {\r\n            return {\r\n                edge: 'left',\r\n                positionX: currentPositionX,\r\n                overflowX: Math.abs(currentPositionX)\r\n            }\r\n        }\r\n\r\n        if (currentPositionX < this.getEndPosition()) {\r\n            return {\r\n                edge: 'right',\r\n                positionX: currentPositionX,\r\n                overflowX: Math.abs(currentPositionX - this.getEndPosition())\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    slowdownOnPull(_positionX: number) {\r\n        let distance = Math.abs(this.getDistance());\r\n        const endPosition = this.getEndPosition();\r\n        const isPulled = this.detectPulled();\r\n\r\n        if (!isPulled) {\r\n            return 0;\r\n        }\r\n\r\n        const decelerationRatio = 3 + isPulled.overflowX / 50;\r\n        let positionX:number = 0;\r\n\r\n        if (isPulled.edge === 'left') {\r\n\r\n            if (this.initialElementPositionX < 0) {\r\n                distance = distance - Math.abs(this.initialElementPositionX);\r\n            }\r\n\r\n            const rubberPositionX = distance / decelerationRatio;\r\n            positionX = rubberPositionX;\r\n\r\n            if (this.initialElementPositionX > 0) {\r\n                positionX = this.initialElementPositionX + rubberPositionX;\r\n            }\r\n\r\n            if (positionX > this.pullLimit) {\r\n                positionX = this.pullLimit;\r\n            }\r\n        }\r\n\r\n        if (isPulled.edge === 'right') {\r\n            const rubberPositionX = endPosition + (((this.initialElementPositionX - distance) - endPosition) / decelerationRatio);\r\n            const containerWidth = this.getWidth();\r\n\r\n            positionX = rubberPositionX;\r\n\r\n            if (this.initialElementPositionX < -(containerWidth - this.visibleWidth)) {\r\n                positionX = ((containerWidth - this.visibleWidth) + this.initialElementPositionX) + rubberPositionX;\r\n            }\r\n\r\n            if (positionX < endPosition - this.pullLimit) {\r\n                positionX = endPosition - this.pullLimit;\r\n            }\r\n        }\r\n\r\n        return positionX;\r\n    }\r\n\r\n    finishMoving() {\r\n        const positionX = this.getMovePositionX();\r\n        let newPositionX:number = 0;\r\n\r\n        if (this.freeScroll) {\r\n            newPositionX = this.getInertia();\r\n        }\r\n\r\n        /* Align container while pulling */\r\n        newPositionX = this.getAlignedPositionOnPull(newPositionX);\r\n\r\n        this.transformPositionX(newPositionX);\r\n        this.setInitialPosition(positionX);\r\n    }\r\n\r\n    /* Returns the new position of the container with inertia */\r\n    getInertia() {\r\n        const distance = this.getDistance();\r\n        const currentTime = new Date().getTime();\r\n        const tapLength = currentTime - this.startTime;\r\n        let inertia = (distance / tapLength) * 100;\r\n\r\n        return this.initialPositionX - inertia;\r\n    }\r\n\r\n    getAlignedPositionOnPull(newPositionX:number) {\r\n        const direction = this.getDirection();\r\n\r\n        if (direction === 'left') {\r\n            let endPosition = this.getEndPosition();\r\n            if (newPositionX < endPosition) {\r\n                return endPosition;\r\n            }\r\n        }\r\n        if (direction === 'right') {\r\n            if (newPositionX > 0) {\r\n                return 0;\r\n            }\r\n        }\r\n\r\n        return newPositionX;\r\n    }\r\n\r\n    getCurrentPositionX() {\r\n        const parentPosition = this.element!.parentElement!.getBoundingClientRect();\r\n        const position = this.element.getBoundingClientRect();\r\n        return position.left - parentPosition.left;\r\n    }\r\n\r\n    getEndPosition() {\r\n        if (this.isLightDOM) {\r\n            let imagesInContainer = this.cells.imageUtils.getImages();\r\n            return -(imagesInContainer.length * this.fullCellWidth - this.visibleWidth - this.margin);\r\n        } else {\r\n            const width = this.getWidth();\r\n            const visibleWidth = this.element!.parentElement!.clientWidth;\r\n            return visibleWidth - width;\r\n        }\r\n    }\r\n\r\n    transformPositionX(value:number, duration = this.transitionDuration) {\r\n        if (value === undefined) {\r\n            return;\r\n        }\r\n\r\n        this.element.style.transition = 'transform ' + duration + 'ms ' + this.transitionTimingFunction;\r\n        this.element.style.transform = 'translateX(' + value + 'px)';\r\n    }\r\n\r\n    getWidth() {\r\n        let width = this.cellLengthInLightDOMMode * this.fullCellWidth;\r\n        let totalImageWidth = this.cellLength * this.fullCellWidth;\r\n\r\n        if (totalImageWidth < width) {\r\n            width = totalImageWidth;\r\n        }\r\n\r\n        return this.isLightDOM ? width : totalImageWidth;\r\n    }\r\n\r\n    setWidth() {\r\n        const width = this.getWidth();\r\n        this.element.style.width = width + \"px\";\r\n    }\r\n\r\n    setInitialPosition(position:number) {\r\n        this.initialPositionX = position;\r\n    }\r\n\r\n    getElementPosition() {\r\n        return this.element.getBoundingClientRect();\r\n    }\r\n\r\n    getInitialElementPositionX() {\r\n        const carouselElementPosition = this.utils.getCarouselElementPosition()['left'];\r\n        return this.getElementPosition()['left'] - carouselElementPosition;\r\n    }\r\n\r\n    clearInitialValues() {\r\n        this.startX = this.moveX = 0;\r\n    }\r\n\r\n    getDirection() {\r\n        const direction = Math.sign(this.startX - this.moveX);\r\n\r\n        if (direction === -1) {\r\n            return 'right';\r\n        }\r\n        if (direction === 1) {\r\n            return 'left';\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n}","import {Properties as CarouselProperties, Image} from './interfaces';\r\n\r\nexport interface Cell {\r\n    index: number,\r\n    positionX: number,\r\n    img: {\r\n        image: Image,\r\n        imageIndex: number\r\n    }\r\n}\r\n\r\nexport class ImageUtils {\r\n    cellStack: Cell[] = [];\r\n    element:any;\r\n\r\n    constructor(element: HTMLElement | undefined) {\r\n        this.element = element;\r\n    }\r\n\r\n    getImages() {\r\n        return this.cellStack.filter(this.filter);\r\n    }\r\n\r\n    filter(cell: Cell) {\r\n        return cell.img !== undefined;\r\n    }\r\n}\r\n\r\nexport class Cells {\r\n    cells: HTMLCollection | undefined;\r\n    element!: HTMLElement;\r\n    visibleWidth: number | undefined;\r\n    counter: number = 0;\r\n    imageUtils;\r\n\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n\r\n    get cellLength() {\r\n        return this.cells ? this.cells.length : 0;\r\n    }\r\n\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n\r\n    get cellLengthInLightDOMMode() {\r\n        if (this.images) {\r\n            let cellLength = this.numberOfVisibleCells + this.overflowCellsLimit * 2;\r\n\r\n            if (cellLength > this.images.length) {\r\n                cellLength = this.images.length;\r\n            }\r\n            return cellLength;\r\n        } else {\r\n            return this.cellLength;\r\n        }\r\n    }\r\n\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n\r\n    constructor(\r\n        private carouselProperties: CarouselProperties,\r\n        private utils: any) {\r\n\r\n        this.imageUtils = new ImageUtils(this.element);\r\n        this.init(carouselProperties);\r\n    }\r\n\r\n    updateProperties(carouselProperties: CarouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n\r\n    lineUp() {\r\n        const cells = this.element ? this.element.children : [];\r\n        this.imageUtils.cellStack = [];\r\n\r\n        for (var i = 0; i < cells.length; i++) {\r\n            let cell = cells[i];\r\n            let positionX = this.getCellPositionInContainer(i);\r\n            (cell as HTMLElement).style.transform = 'translateX(' + positionX + 'px)';\r\n            (cell as HTMLElement).style.width = this.carouselProperties.cellWidth + 'px';\r\n\r\n            if (this.getImage(i)) {\r\n                this.imageUtils.cellStack.push({\r\n                    index: i,\r\n                    positionX,\r\n                    img: this.getImage(i)!['image']\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    ifSequenceOfCellsIsChanged() {\r\n        const cells:any = this.element.children;\r\n        return cells[0]['style'].transform !== 'translateX(0px)';\r\n    }\r\n\r\n    getCellPositionInContainer(cellIndexInDOMTree: number) {\r\n        let positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n        return positionIndex * this.fullCellWidth;\r\n    }\r\n\r\n    getCellIndexInContainer(cellIndexInDOMTree: number) {\r\n        let positionIndex;\r\n\r\n        if (!this.isLightDOM) {\r\n            return cellIndexInDOMTree;\r\n        }\r\n\r\n        let cellLength = this.cellLengthInLightDOMMode;\r\n        let counter = this.counter - this.overflowCellsLimit;\r\n\r\n        if (counter > cellLength) {\r\n            counter = counter % cellLength;\r\n        }\r\n\r\n        if (counter < 0) {\r\n            return cellIndexInDOMTree;\r\n        } else {\r\n            positionIndex = cellIndexInDOMTree - counter;\r\n            if (positionIndex < 0) {\r\n                positionIndex = cellLength + positionIndex;\r\n            }\r\n        }\r\n\r\n        return positionIndex;\r\n    }\r\n\r\n    getImage(cellIndex: number) {\r\n        if (!this.images) {\r\n            return;\r\n        }\r\n\r\n        let imageIndex = this.getImageIndex(cellIndex);\r\n        let file = this.images[imageIndex];\r\n\r\n        if (file && !file.type) {\r\n            file.type = 'image';\r\n        }\r\n\r\n        return {\r\n            image: this.images[imageIndex],\r\n            imageIndex\r\n        };\r\n    }\r\n\r\n    getImageIndex(cellIndexInDOMTree: number) {\r\n        const positionIndex = this.getCellIndexInContainer(cellIndexInDOMTree);\r\n        let imageIndex;\r\n\r\n        if (this.counter > this.overflowCellsLimit) {\r\n            let cellLimitOverflow = this.counter - this.overflowCellsLimit;\r\n            imageIndex = positionIndex + cellLimitOverflow;\r\n\r\n            if (this.images && this.carouselProperties.loop) {\r\n                imageIndex = imageIndex % this.images.length;\r\n            }\r\n        } else {\r\n            imageIndex = cellIndexInDOMTree;\r\n        }\r\n\r\n        return imageIndex;\r\n    }\r\n\r\n    setCounter(value: number) {\r\n        this.counter = value;\r\n    }\r\n\r\n    init(carouselProperties: CarouselProperties) {\r\n        this.element = this.carouselProperties.cellsElement;\r\n        this.cells = this.element.children;\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.element!.parentElement!.clientWidth;\r\n    }\r\n}","import {Properties as CarouselProperties} from './interfaces';\r\n\r\nexport interface Properties {\r\n    carouselProperties: CarouselProperties;\r\n}\r\n\r\nexport class Slide {\r\n    slideLength: number = 0;\r\n    isSlideInProgress: boolean = false;\r\n    direction: 'left' | 'right' | undefined;\r\n    counter: number = 0;\r\n    _counter: number = 0;\r\n    distance: number = 0;\r\n    distanceAbs: number = 0;\r\n    visibleWidth!: number;\r\n    isNotClickOnArrow: boolean = false;\r\n    initialPositionX: number = 0;\r\n    currentPositionX: number = 0;\r\n\r\n    /* The slide length has been limited by the limitSlideLength() method */\r\n    isSlideLengthLimited: boolean = false;\r\n\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n\r\n    get minSwipeDistance() {\r\n        return this.carouselProperties.minSwipeDistance;\r\n    }\r\n\r\n    get numberOfVisibleCells() {\r\n        return this.utils.numberOfVisibleCells;\r\n    }\r\n\r\n    get visibleCellsOverflowContainer() {\r\n        return this.utils.visibleCellsOverflowContainer;\r\n    }\r\n\r\n    /* The position to which the container returns after each slide \r\n     * in the light DUM tree mode. \r\n     */\r\n    get fixedContainerPosition() {\r\n        return -(this.overflowCellsLimit * this.fullCellWidth);\r\n    }\r\n\r\n    get overflowCellsLimit() {\r\n        return this.utils.overflowCellsLimit;\r\n    }\r\n\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n\r\n    /* Number of cell elements in the DUM tree */\r\n    get cellLength() {\r\n        if (this.isLightDOM) {\r\n            return this.cells.cellLengthInLightDOMMode;\r\n        } else {\r\n            if (this.images) {\r\n                return this.images.length;\r\n            } else {\r\n                return this.cells.cellLength;\r\n            }\r\n        }\r\n    }\r\n\r\n    get isLightDOM() {\r\n        return this.carouselProperties.lightDOM || this.carouselProperties.loop;\r\n    }\r\n\r\n    constructor(private carouselProperties: CarouselProperties,\r\n        private utils: any,\r\n        private cells: any,\r\n        private container: any) {\r\n\r\n        this.init();\r\n    }\r\n\r\n    updateProperties(carouselProperties: CarouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n        this.setVisibleWidth();\r\n    }\r\n\r\n    init() {\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\r\n    }\r\n\r\n    handleTouchstart() {\r\n        /* Touchstart event is not called for arrow */\r\n        this.isNotClickOnArrow = true;\r\n        this.isSlideLengthLimited = false;\r\n\r\n        if (!this.isSlideInProgress) {\r\n            this.initialPositionX = this.container.getCurrentPositionX();\r\n        }\r\n    }\r\n\r\n    handleTouchend() {\r\n        if (!this.isNotClickOnArrow) {\r\n            return;\r\n        }\r\n        this.currentPositionX = this.container.getCurrentPositionX();\r\n        this.distanceAbs = Math.abs(this.initialPositionX - this.currentPositionX);\r\n        this.distance = this.initialPositionX - this.currentPositionX;\r\n        this.direction = this.getDirection();\r\n        this.isNotClickOnArrow = false;\r\n        this.handleSlide();\r\n    }\r\n\r\n    handleTransitionend() {\r\n        this.setCounter();\r\n        this.isSlideInProgress = false;\r\n\r\n        if (this.isLightDOM) {\r\n            this.alignContainerFast();\r\n        }\r\n    }\r\n\r\n    handleSlide(customSlideLength: number | undefined = undefined) {\r\n        let isUsingButton = customSlideLength;\r\n        let newPositionX;\r\n\r\n        if (isUsingButton && this.isSlideInProgress || !this.direction) {\r\n            return;\r\n        }\r\n\r\n        /* Custom slide length is used in arrows */\r\n        if (customSlideLength) {\r\n            this.slideLength = this.limitSlideLength(customSlideLength);\r\n\r\n            if (!this.isSlideInProgress) {\r\n                this.initialPositionX = this.container.getCurrentPositionX();\r\n            }\r\n        } else {\r\n            this.slideLength = this.getSlideLength(this.distanceAbs);\r\n        }\r\n\r\n        /* Store intermediate counter value */\r\n        this._counter = this.getPreliminaryCounter();\r\n\r\n        if (this.direction === 'left') {\r\n            if (!customSlideLength) {\r\n                this.slideLength = this.limitSlideLength(this.getSlideLength(this.distanceAbs));\r\n            }\r\n\r\n            this._counter = this.getPreliminaryCounter();\r\n            let isSlidesEnd = this.isSlidesEnd(this._counter);\r\n            newPositionX = this.getPositionByIndex(this._counter);\r\n\r\n            if (isSlidesEnd) {\r\n                this._counter = this.counter;\r\n\r\n                newPositionX = this.getPositionByIndex(this.counter);\r\n                this.slideLength = 0;\r\n            }\r\n        }\r\n\r\n        if (this.direction === 'right') {\r\n            if (!customSlideLength) {\r\n                this.slideLength = this.getSlideLength(this.distanceAbs);\r\n            }\r\n\r\n            if (this._counter < 0) {\r\n                this._counter = this.counter;\r\n                this.slideLength = this.counter;\r\n            }\r\n\r\n            newPositionX = this.getPositionByIndex(this.counter - this.slideLength);\r\n        }\r\n\r\n        if (this.container.getCurrentPositionX() !== newPositionX) {\r\n            this.isSlideInProgress = true;\r\n            this.container.transformPositionX(newPositionX);\r\n        }\r\n    }\r\n\r\n    next(length: number = 1) {\r\n        this.direction = 'left';\r\n        this.handleSlide(length);\r\n    }\r\n\r\n    prev(length: number = 1) {\r\n        this.direction = 'right';\r\n        this.handleSlide(length);\r\n    }\r\n\r\n    select(index: number) {\r\n        if (index > this.cellLength - 1) {\r\n            return;\r\n        }\r\n\r\n        if (index > this.counter) {\r\n            let length = index - this.counter;\r\n            this.next(length);\r\n        }\r\n\r\n        if (index < this.counter) {\r\n            let length = this.counter - index;\r\n            this.prev(length);\r\n        }\r\n    }\r\n\r\n    getPreliminaryCounter() {\r\n        if (this.direction === 'left') {\r\n            return this.counter + this.slideLength;\r\n        }\r\n\r\n        if (this.direction === 'right') {\r\n            return this.counter - this.slideLength;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    /*  \r\n     * Limits the length of the slide during calls to the next() and prev() \r\n     * methods if the specified position is outside the cell length \r\n     */\r\n    limitSlideLength(slideLength: number) {\r\n        if (slideLength > 1) {\r\n            for (var i = 0; i < slideLength; i++) {\r\n                let newCounter = this.counter + (slideLength - i);\r\n\r\n                if (!this.isSlidesEnd(newCounter)) {\r\n                    slideLength = slideLength - i;\r\n                    this.isSlideLengthLimited = i > 0;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return slideLength;\r\n    }\r\n\r\n    /* Offset the container to show the last cell completely */\r\n    getPositionCorrection(counter:number) {\r\n        let correction = 0;\r\n        let isLastSlide = this.isLastSlide(counter);\r\n\r\n        if (this.carouselProperties.loop || this.direction === \"right\") {\r\n            return 0;\r\n        }\r\n\r\n        if (this.isSlideLengthLimited || isLastSlide) {\r\n            let cellsWidth = this.cells.cellLengthInLightDOMMode * this.fullCellWidth;\r\n\r\n            if (this.visibleWidth < cellsWidth) {\r\n                correction = -(this.numberOfVisibleCells * this.fullCellWidth - this.visibleWidth - this.margin);\r\n            }\r\n\r\n            if (correction >= -this.margin) {\r\n                correction = 0;\r\n            }\r\n        }\r\n\r\n        return correction;\r\n    }\r\n\r\n    getSlideLength(distanceAbs: number) {\r\n        let isLastSlide = this.isLastSlide(this.counter);\r\n\r\n        /* If the last cell does not fit entirely, then the \r\n         * length of the swipe to the left, from the extreme \r\n         * right position, may be shorter than usual. \r\n         */\r\n        if (isLastSlide && this.direction === \"right\") {\r\n            distanceAbs = distanceAbs + this.visibleWidth % this.fullCellWidth;\r\n        }\r\n\r\n        let length = Math.floor(distanceAbs / this.fullCellWidth);\r\n\r\n        if (distanceAbs % this.fullCellWidth >= this.minSwipeDistance) {\r\n            length++;\r\n        }\r\n\r\n        return length;\r\n    }\r\n\r\n    getDistanceAbs() {\r\n        return Math.abs(this.initialPositionX - this.currentPositionX);\r\n    }\r\n\r\n    getDirection() {\r\n        const direction = Math.sign(this.initialPositionX - this.currentPositionX);\r\n\r\n        if (direction === -1) {\r\n            return 'right';\r\n        }\r\n        if (direction === 1) {\r\n            return 'left';\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    isSlidesEnd(counter: number) {\r\n        let margin = this.visibleCellsOverflowContainer ? 1 : 0;\r\n        let imageLength = this.images ? this.images.length : this.cells.cellLength;\r\n\r\n        if (this.carouselProperties.loop) {\r\n            return false;\r\n        } else {\r\n            return (imageLength - counter + margin) < this.numberOfVisibleCells;\r\n        }\r\n    }\r\n\r\n    isLastSlide(counter: number) {\r\n        return this.isSlidesEnd(counter + 1)\r\n    }\r\n\r\n    setCounter() {\r\n        if (this.direction === 'left') {\r\n            this.counter = this.counter + this.slideLength;\r\n        }\r\n\r\n        if (this.direction === 'right') {\r\n            this.counter = this.counter - this.slideLength;\r\n        }\r\n    }\r\n\r\n    getPositionByIndex(_counter: number) {\r\n        let correction = this.getPositionCorrection(this.counter + this.slideLength);\r\n        let position;\r\n\r\n        if (correction !== 0) {\r\n            correction = correction + this.fullCellWidth\r\n        }\r\n\r\n        if (this.direction === 'right') {\r\n            correction = 0;\r\n        }\r\n\r\n        if (this.isLightDOM && this.isLightDOMMode(_counter) ||\r\n            this.isLightDOM && this.ifLeftDOMModeAtEnd(_counter)) {\r\n\r\n            let initialPosition = this.getPositionWithoutCorrection(this.initialPositionX);\r\n            let counterDifference = _counter - this.counter;\r\n            position = initialPosition - ((counterDifference * this.fullCellWidth) - correction);\r\n        } else {\r\n            position = -((_counter * this.fullCellWidth) - correction);\r\n        }\r\n\r\n        position = this.provideSafePosition(position);\r\n\r\n        return position;\r\n    }\r\n\r\n    provideSafePosition(position: number) {\r\n        const endPosition = this.container.getEndPosition();\r\n\r\n        if (this.direction === 'left') {\r\n            if (position > 0) {\r\n                position = 0;\r\n            }\r\n        }\r\n\r\n        if (this.direction === 'right') {\r\n            if (position < endPosition) {\r\n                position = endPosition;\r\n            }\r\n        }\r\n\r\n        return position;\r\n    }\r\n\r\n    getPositionWithoutCorrection(value: number) {\r\n        let remainder = Math.round(value) % this.fullCellWidth;\r\n\r\n        if (remainder !== 0) {\r\n            return value - (this.fullCellWidth + remainder);\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    isNextArrowDisabled() {\r\n        return this.isLastSlide(this.counter) || \r\n        (!this.visibleCellsOverflowContainer && this.cellLength <= this.numberOfVisibleCells) ||\r\n        (this.visibleCellsOverflowContainer && this.cellLength < this.numberOfVisibleCells)\r\n    }\r\n\r\n    isPrevArrowDisabled() {\r\n        return this.counter === 0;\r\n    }\r\n\r\n    alignContainerFast() {\r\n        if (this.isLightDOMMode(this.counter)) {\r\n            let positionX = this.fixedContainerPosition;\r\n            this.container.transformPositionX(positionX, 0);\r\n\r\n            this.cells.setCounter(this.counter);\r\n            this.cells.lineUp();\r\n        } else if (this.ifLeftDOMModeToBeginning(this.counter)) {\r\n            /* If we have already exited the light DOM mode but \r\n             * the cells are still out of place \r\n             */\r\n            if (this.cells.ifSequenceOfCellsIsChanged()) {\r\n                let positionX = -(this.counter * this.fullCellWidth);\r\n                this.container.transformPositionX(positionX, 0);\r\n\r\n                this.cells.setCounter(this.counter);\r\n                this.cells.lineUp();\r\n            }\r\n        } else if (this.ifLeftDOMModeAtEnd(this.counter)) {\r\n            let containerPositionX = this.container.getCurrentPositionX();\r\n            let containerWidth = this.container.getWidth();\r\n            this.visibleWidth;\r\n\r\n            if (this.isLastSlide(this.counter) &&\r\n                containerWidth + containerPositionX >= this.visibleWidth) {\r\n                return;\r\n            }\r\n\r\n            let correction = this.getPositionCorrection(this.counter);\r\n\r\n            if (correction !== 0) {\r\n                correction = correction + this.fullCellWidth\r\n            }\r\n\r\n            if (this.direction === 'right') {\r\n                correction = 0;\r\n            }\r\n\r\n            let positionX = this.fixedContainerPosition + correction;\r\n\r\n            this.container.transformPositionX(positionX, 0);\r\n            this.cells.setCounter(this.counter);\r\n            this.cells.lineUp();\r\n        }\r\n    }\r\n\r\n    isLightDOMMode(counter: number) {\r\n        let flag;\r\n        let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n\r\n        if (!this.isLightDOM) {\r\n            return false;\r\n        }\r\n\r\n        if (counter > this.overflowCellsLimit && this.direction === \"left\" &&\r\n            counter <= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n\r\n        if (counter >= this.overflowCellsLimit && this.direction === \"right\" &&\r\n            counter < remainderOfCells) {\r\n            flag = true;\r\n        }\r\n\r\n        if (this.counter > this.overflowCellsLimit && this.direction === \"left\" &&\r\n            this.counter <= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n\r\n        if (this.counter >= this.overflowCellsLimit && this.direction === \"right\" &&\r\n            this.counter < remainderOfCells) {\r\n            flag = true;\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    ifLeftDOMModeAtEnd(counter: number) {\r\n        let flag;\r\n        let remainderOfCells = this.images.length - this.overflowCellsLimit - this.numberOfVisibleCells;\r\n\r\n        if (counter >= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n\r\n        if (this.counter >= remainderOfCells) {\r\n            flag = true;\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    ifLeftDOMModeToBeginning(counter: number) {\r\n        let flag;\r\n\r\n        if (counter <= this.overflowCellsLimit) {\r\n            flag = true;\r\n        }\r\n\r\n        if (this.counter <= this.overflowCellsLimit) {\r\n            flag = true;\r\n        }\r\n\r\n        return flag;\r\n    }\r\n\r\n    setVisibleWidth() {\r\n        this.visibleWidth = this.carouselProperties.visibleWidth || this.carouselProperties.hostElement.clientWidth;\r\n    }\r\n}","import {Properties as CarouselProperties} from './interfaces';\r\n\r\nexport class Utils {\r\n\r\n    get images() {\r\n        return this.carouselProperties.images;\r\n    }\r\n\r\n    get margin() {\r\n        return this.carouselProperties.margin;\r\n    }\r\n\r\n    get overflowCellsLimit() {\r\n        if (this.images && this.isImagesLessCellLimit) {\r\n            let overflowCellsLimit = Math.floor((this.images.length - this.numberOfVisibleCells) / 2);\r\n\r\n            if (overflowCellsLimit < 0) {\r\n                overflowCellsLimit = 0;\r\n            }\r\n            \r\n            return overflowCellsLimit;\r\n        } else {\r\n            return this.carouselProperties.overflowCellsLimit;\r\n        }\r\n    }\r\n\r\n    get isImagesLessCellLimit() {\r\n        return this.carouselProperties.overflowCellsLimit * 2 + this.numberOfVisibleCells > this.images.length;\r\n    }\r\n\r\n    get numberOfVisibleCells() {\r\n        return Math.ceil(this.visibleWidth / this.fullCellWidth);\r\n    }\r\n\r\n    get visibleCellsOverflowContainer() {\r\n        return (this.numberOfVisibleCells * this.fullCellWidth - this.margin) > this.visibleWidth;\r\n    }\r\n\r\n    get fullCellWidth() {\r\n        return this.carouselProperties.cellWidth + this.carouselProperties.margin;\r\n    }\r\n\r\n    get visibleWidth() {\r\n        return this.carouselProperties.visibleWidth || this.carouselProperties!.cellsElement!.parentElement!.clientWidth;\r\n    }\r\n\r\n    constructor(private carouselProperties: CarouselProperties) {\r\n\r\n    }\r\n\r\n    updateProperties(carouselProperties: CarouselProperties) {\r\n        this.carouselProperties = carouselProperties;\r\n    }\r\n\r\n    getStartX(event: any) {\r\n        const touches = event.touches;\r\n        const carouselElementPosition = this.getCarouselElementPosition()['left'];\r\n        let startX;\r\n\r\n        if (touches) {\r\n            startX = touches[0].clientX - carouselElementPosition;\r\n        } else {\r\n            startX = event.clientX - carouselElementPosition;\r\n        }\r\n\r\n        return startX;\r\n    }\r\n\r\n    getMoveX(event: any) {\r\n        const touches = event.touches;\r\n        const carouselElementPositionX = this.getCarouselElementPosition()['left'];\r\n\r\n        if (touches) {\r\n            return touches[0].clientX - carouselElementPositionX;\r\n        } else {\r\n            return event.clientX - carouselElementPositionX;\r\n        }\r\n    }\r\n\r\n    getCarouselElementPosition() {\r\n        return this.carouselProperties.hostElement.getBoundingClientRect();\r\n    }\r\n}","import {ChangeDetectorRef, Component, ElementRef, ViewChild, EventEmitter, HostBinding, HostListener, Input, Output, OnDestroy, SimpleChanges} from '@angular/core';\r\n\r\nimport {Images} from './interfaces';\r\nimport {Touches} from './touches';\r\nimport {Carousel} from './carousel';\r\nimport {Container} from './container';\r\nimport {Cells} from './cells';\r\nimport {Slide} from './slide';\r\nimport {Utils} from './utils';\r\nimport {Properties as CarouselProperties} from './interfaces';\r\n\r\n\r\n@Component({\r\n    selector: 'carousel, [carousel]',\r\n    templateUrl: './carousel.component.html',\r\n    styleUrls: ['./carousel.component.sass']\r\n})\r\n\r\nexport class CarouselComponent implements OnDestroy {\r\n    carousel:any;\r\n    container:any;\r\n    utils:any;\r\n    cells:any;\r\n    slide:any;\r\n    _id!: string;\r\n    _images!: Images;\r\n    touches: any;\r\n    landscapeMode: any;\r\n    minTimeout = 30;\r\n    isVideoPlaying: boolean = false;\r\n    _isCounter: boolean = false;\r\n    _width!: number;\r\n    _cellWidth: number | '100%' = 200;\r\n    _loop: boolean = false;\r\n    _lightDOM: boolean = false;\r\n    isMoving: boolean = false;\r\n    isNgContent: boolean = false;\r\n    cellLength!: number;\r\n    dotsArr: any;\r\n    carouselProperties!: CarouselProperties;\r\n    savedCarouselWidth!: number;\r\n\r\n    get isContainerLocked() {\r\n        if (this.carousel) {\r\n            return this.carousel.isContainerLocked;\r\n        }\r\n    }\r\n\r\n    get slideCounter() {\r\n        if (this.carousel) {\r\n            return this.carousel.slideCounter;\r\n        }\r\n    }\r\n\r\n    get lapCounter() {\r\n        if (this.carousel) {\r\n            return this.carousel.lapCounter;\r\n        }\r\n    }\r\n\r\n    get isLandscape() {\r\n        return window.innerWidth > window.innerHeight;\r\n    }\r\n\r\n    get isSafari(): any {\r\n        const ua = navigator.userAgent.toLowerCase();\r\n        if (ua.indexOf('safari') !== -1) {\r\n            return !(ua.indexOf('chrome') > -1);\r\n        }\r\n    }\r\n\r\n    get counter() {\r\n        let counter;\r\n\r\n        if (this.loop) {\r\n            counter = this.slideCounter % this.cellLength;\r\n        } else {\r\n            counter = this.slideCounter;\r\n        }\r\n\r\n        return counter + 1 + this.counterSeparator + this.cellLength;\r\n    }\r\n\r\n    get cellsElement() {\r\n        return this.elementRef.nativeElement.querySelector('.carousel-cells');\r\n    }\r\n\r\n    get isArrows() {\r\n        return this.arrows && !this.freeScroll;\r\n    }\r\n\r\n    get isCounter() {\r\n        return this._isCounter && this.cellLength > 1;\r\n    }\r\n\r\n    get activeDotIndex() {\r\n        return this.slideCounter % this.cellLength;\r\n    }\r\n\r\n    get cellLimit() {\r\n        if (this.carousel) {\r\n            return this.carousel.cellLimit;\r\n        }\r\n    }\r\n\r\n    get carouselWidth() {\r\n        return this.elementRef.nativeElement.clientWidth;\r\n    }\r\n\r\n    @Output() events: EventEmitter < any > = new EventEmitter < any > ();\r\n\r\n    @Input() id!: number;\r\n    @Input() height: number = 200;\r\n    @Input() width!: number;\r\n    @Input() autoplay: boolean = false;\r\n    @Input() autoplayInterval: number = 5000;\r\n    @Input() pauseOnHover: boolean = true;\r\n    @Input() dots: boolean = false;\r\n    @Input() borderRadius!: number;\r\n    @Input() margin: number = 10;\r\n    @Input() objectFit: 'contain' | 'cover' | 'none' = 'cover';\r\n    @Input() minSwipeDistance: number = 10;\r\n    @Input() transitionDuration: number = 200;\r\n    @Input() transitionTimingFunction: 'ease' | 'ease-in' | 'ease-out' | 'ease-in-out' | 'linear' = 'ease-out';\r\n    @Input() videoProperties: any;\r\n    @Input() counterSeparator: string = \" / \";\r\n    @Input() overflowCellsLimit: number = 3;\r\n    @Input() listeners: 'auto' | 'mouse and touch' = 'mouse and touch';\r\n    @Input() cellsToShow!: number;\r\n    @Input() cellsToScroll: number = 1;\r\n    @Input() freeScroll: boolean = false;\r\n    @Input() arrows: boolean = true;\r\n    @Input() arrowsOutside: boolean = false;\r\n    @Input() arrowsTheme: 'light' | 'dark' = 'light';\r\n\r\n    @Input()\r\n    set images(images: Images & any) {\r\n        this._images = images;\r\n    }\r\n    get images() {\r\n        return this._images;\r\n    }\r\n\r\n    @Input('cellWidth') set cellWidth(value: number | '100%') {\r\n        if (value) {\r\n            this._cellWidth = value;\r\n        }\r\n    }\r\n\r\n    @Input('counter') set isCounter(value: boolean) {\r\n        if (value) {\r\n            this._isCounter = value;\r\n        }\r\n    }\r\n\r\n    @Input('loop') set loop(value: boolean) {\r\n        if (value) {\r\n            this._loop = value;\r\n        }\r\n    }\r\n\r\n    get loop() {\r\n        if (this.images) {\r\n            return this._loop;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Input('lightDOM') set lightDOM(value: boolean) {\r\n        if (value) {\r\n            this._lightDOM = value;\r\n        }\r\n    }\r\n\r\n    get lightDOM() {\r\n        if (this.images) {\r\n            return this._lightDOM;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @HostBinding('class.carousel') hostClassCarousel: boolean = true;\r\n    @HostBinding('style.height') hostStyleHeight!: string;\r\n    @HostBinding('style.width') hostStyleWidth!: string;\r\n\r\n    @HostListener('window:resize', ['$event'])\r\n    onWindowResize(event: any) {\r\n        if (this.utils.visibleWidth !== this.savedCarouselWidth) {\r\n            this.resize();\r\n        }\r\n    }\r\n\r\n    @HostListener('mousemove', ['$event'])\r\n    onMousemove(event: MouseEvent) {\r\n        if (this.autoplay && this.pauseOnHover) {\r\n            this.carousel.stopAutoplay();\r\n        }\r\n    }\r\n\r\n    @HostListener('mouseleave', ['$event'])\r\n    onMouseleave(event: MouseEvent) {\r\n        if (this.autoplay && this.pauseOnHover) {\r\n            this.carousel.autoplay();\r\n        }\r\n    }\r\n\r\n    constructor(\r\n        private elementRef: ElementRef,\r\n        private ref: ChangeDetectorRef) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.isNgContent = this.cellsElement.children.length > 0;\r\n\r\n        this.touches = new Touches({\r\n            element: this.cellsElement,\r\n            listeners: this.listeners,\r\n            mouseListeners: {\r\n                \"mousedown\": \"handleMousedown\",\r\n                \"mouseup\": \"handleMouseup\"\r\n            }\r\n        });\r\n\r\n        this.touches.on('touchstart', this.handleTouchstart);\r\n        this.touches.on('horizontal-swipe', this.handleHorizontalSwipe);\r\n        this.touches.on('touchend', this.handleTouchend);\r\n        this.touches.on('mousedown', this.handleTouchstart);\r\n        this.touches.on('mouseup', this.handleTouchend);\r\n        this.touches.on('tap', this.handleTap);\r\n\r\n        this.setDimensions();\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.initCarousel();\r\n        this.cellLength = this.getCellLength();\r\n        this.dotsArr = Array(this.cellLength).fill(1);\r\n        this.ref.detectChanges();\r\n        this.carousel.lineUpCells();\r\n        this.savedCarouselWidth = this.carouselWidth;\r\n\r\n        /* Start detecting changes in the DOM tree */\r\n        this.detectDomChanges();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.width || changes.height || changes.images) {\r\n            this.setDimensions();\r\n            this.initCarousel();\r\n            this.carousel.lineUpCells();\r\n            this.ref.detectChanges();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.touches.destroy();\r\n        //this.carousel.destroy();\r\n    }\r\n\r\n    initCarousel() {\r\n        this.carouselProperties = {\r\n            id: this.id,\r\n            cellsElement: this.elementRef.nativeElement.querySelector('.carousel-cells'),\r\n            hostElement: this.elementRef.nativeElement,\r\n            images: this.images,\r\n            cellWidth: this.getCellWidth(),\r\n            loop: this.loop,\r\n            autoplayInterval: this.autoplayInterval,\r\n            overflowCellsLimit: this.overflowCellsLimit,\r\n            visibleWidth: this.width,\r\n            margin: this.margin,\r\n            minSwipeDistance: this.minSwipeDistance,\r\n            transitionDuration: this.transitionDuration,\r\n            transitionTimingFunction: this.transitionTimingFunction,\r\n            videoProperties: this.videoProperties,\r\n            eventHandler: this.events,\r\n            freeScroll: this.freeScroll,\r\n            lightDOM: this.lightDOM\r\n        };\r\n\r\n        this.utils = new Utils(this.carouselProperties);\r\n        this.cells = new Cells(this.carouselProperties, this.utils);\r\n        this.container = new Container(this.carouselProperties, this.utils, this.cells);\r\n        this.slide = new Slide(this.carouselProperties, this.utils, this.cells, this.container);\r\n        this.carousel = new Carousel(this.carouselProperties, this.utils, this.cells, this.container, this.slide);\r\n    \r\n        if (this.autoplay) {\r\n            this.carousel.autoplay();\r\n        }\r\n    }\r\n\r\n    resize() {\r\n        this.landscapeMode = this.isLandscape;\r\n        this.savedCarouselWidth = this.carouselWidth;\r\n\r\n        this.carouselProperties.cellWidth = this.getCellWidth();\r\n        this.cells.updateProperties(this.carouselProperties);\r\n        this.carousel.updateProperties(this.carouselProperties);\r\n        this.container.updateProperties(this.carouselProperties);\r\n        this.slide.updateProperties(this.carouselProperties);\r\n        this.utils.updateProperties(this.carouselProperties);\r\n        this.carousel.lineUpCells();\r\n        this.slide.select(0);\r\n        this.ref.detectChanges();\r\n    }\r\n\r\n    detectDomChanges() {\r\n        const observer = new MutationObserver((mutations) => {\r\n            this.onDomChanges();\r\n        });\r\n\r\n        var config = {\r\n            attributes: true,\r\n            childList: true,\r\n            characterData: true\r\n        };\r\n        observer.observe(this.cellsElement, config);\r\n    }\r\n\r\n    onDomChanges() {\r\n        this.cellLength = this.getCellLength();\r\n        this.carousel.lineUpCells();\r\n        this.ref.detectChanges();\r\n    }\r\n\r\n    setDimensions() {\r\n        this.hostStyleHeight = this.height + 'px';\r\n        this.hostStyleWidth = this.width + 'px';\r\n    }\r\n\r\n    getImage(index:number) {\r\n        return this.carousel.getImage(index);\r\n    }\r\n\r\n    handleTouchstart = (event: any) => {\r\n        this.touches.addEventListeners(\"mousemove\", \"handleMousemove\");\r\n        this.carousel.handleTouchstart(event);\r\n        this.isMoving = true;\r\n    }\r\n\r\n    handleHorizontalSwipe = (event: any) => {\r\n        event.preventDefault();\r\n        this.carousel.handleHorizontalSwipe(event);\r\n    }\r\n\r\n    handleTouchend = (event: any) => {\r\n        const touches = event.touches;\r\n        this.carousel.handleTouchend(event);\r\n        this.touches.removeEventListeners(\"mousemove\", \"handleMousemove\");\r\n        this.isMoving = false;\r\n    }\r\n\r\n    handleTap = (event: any) => {\r\n        let outboundEvent: any = {\r\n            name: 'click'\r\n        }\r\n        let nodes = Array.prototype.slice.call(this.cellsElement.children);\r\n        let cellElement = event.srcElement.closest(\".carousel-cell\");\r\n        const i = nodes.indexOf(cellElement);\r\n        const cellIndex = nodes.indexOf(cellElement);\r\n\r\n        if (this.images) {\r\n            //outboundEvent.fileIndex = this.carousel.getFileIndex(i);\r\n            //outboundEvent.file = this.carousel.getFile(cellIndex);\r\n        } else {\r\n            outboundEvent.cellIndex = cellIndex;\r\n        }\r\n    }\r\n\r\n    handleTransitionendCellContainer(event:any) {\r\n        if (event.target['className'] === 'carousel-cells') {\r\n            this.carousel.handleTransitionend();\r\n        }\r\n    }\r\n\r\n    getCellWidth() {\r\n        let elementWidth = this.carouselWidth;\r\n\r\n        if (this.cellsToShow) {\r\n            let margin = this.cellsToShow > 1 ? this.margin : 0;\r\n            let totalMargin = margin * (this.cellsToShow - 1);\r\n            return (elementWidth - totalMargin) / this.cellsToShow;\r\n        }\r\n\r\n        if (this._cellWidth === '100%') {\r\n            return elementWidth;\r\n        } else {\r\n            return this._cellWidth;\r\n        }\r\n    }\r\n\r\n    next() {\r\n        this.carousel.next(this.cellsToScroll);\r\n        this.carousel.stopAutoplay();\r\n    }\r\n\r\n    prev() {\r\n        this.carousel.prev(this.cellsToScroll);\r\n        this.carousel.stopAutoplay();\r\n    }\r\n\r\n    isNextArrowDisabled() {\r\n        if (this.carousel) {\r\n            return this.carousel.isNextArrowDisabled();\r\n        }\r\n    }\r\n\r\n    isPrevArrowDisabled() {\r\n        if (this.carousel) {\r\n            return this.carousel.isPrevArrowDisabled();\r\n        }\r\n    }\r\n\r\n    getCellLength() {\r\n        if (this.images) {\r\n            return this.images.length;\r\n        } else {\r\n            return this.cellsElement.children.length;\r\n        }\r\n    }\r\n}","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {CarouselComponent} from './carousel.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CarouselComponent\r\n    ],\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    exports: [\r\n        CarouselComponent\r\n    ],\r\n    providers: [\r\n\r\n    ],\r\n    bootstrap: [\r\n        \r\n    ],\r\n    entryComponents: [\r\n        CarouselComponent\r\n    ]\r\n})\r\nexport class IvyCarouselModule { }\r\n","/*\n * Public API Surface of angular-responsive-carousel\n */\n\nexport * from './lib/carousel.module';\nexport * from './lib/carousel.component';\nexport * from './lib/interfaces';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"metadata":{},"sourceType":"module"}