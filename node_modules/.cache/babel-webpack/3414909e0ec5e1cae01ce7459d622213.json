{"ast":null,"code":"\"use strict\";\n\nvar ɵngcc0 = require('@angular/core');\n\nvar ɵngcc1 = require('./lightbox-event.service');\n\nvar ɵngcc2 = require('ngx-filesaver');\n\nvar ɵngcc3 = require('@angular/platform-browser');\n\nvar _c0 = [\"outerContainer\"];\nvar _c1 = [\"container\"];\nvar _c2 = [\"leftArrow\"];\nvar _c3 = [\"rightArrow\"];\nvar _c4 = [\"navArrow\"];\nvar _c5 = [\"dataContainer\"];\nvar _c6 = [\"image\"];\nvar _c7 = [\"caption\"];\nvar _c8 = [\"number\"];\nvar _c9 = [\"lb-content\", \"\"];\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ngx_filesaver_1 = require(\"ngx-filesaver\");\n\nvar common_1 = require(\"@angular/common\");\n\nvar core_1 = require(\"@angular/core\");\n\nvar platform_browser_1 = require(\"@angular/platform-browser\");\n\nvar lightbox_event_service_1 = require(\"./lightbox-event.service\");\n\nvar LightboxComponent =\n/** @class */\nfunction () {\n  function LightboxComponent(_elemRef, _rendererRef, _lightboxEvent, _lightboxElem, _lightboxWindowRef, _fileSaverService, _sanitizer, _documentRef) {\n    var _this_1 = this;\n\n    this._elemRef = _elemRef;\n    this._rendererRef = _rendererRef;\n    this._lightboxEvent = _lightboxEvent;\n    this._lightboxElem = _lightboxElem;\n    this._lightboxWindowRef = _lightboxWindowRef;\n    this._fileSaverService = _fileSaverService;\n    this._sanitizer = _sanitizer;\n    this._documentRef = _documentRef; // initialize data\n\n    this.options = this.options || {};\n    this.album = this.album || [];\n    this.currentImageIndex = this.currentImageIndex || 0;\n    this._windowRef = this._lightboxWindowRef.nativeWindow; // control the interactive of the directive\n\n    this.ui = {\n      // control the appear of the reloader\n      // false: image has loaded completely and ready to be shown\n      // true: image is still loading\n      showReloader: true,\n      // control the appear of the nav arrow\n      // the arrowNav is the parent of both left and right arrow\n      // in some cases, the parent shows but the child does not show\n      showLeftArrow: false,\n      showRightArrow: false,\n      showArrowNav: false,\n      // control the appear of the zoom and rotate buttons\n      showZoomButton: false,\n      showRotateButton: false,\n      // control whether to show the\n      // page number or not\n      showPageNumber: false,\n      showCaption: false,\n      // control whether to show the download button or not\n      showDownloadButton: false,\n      classList: 'lightbox animation fadeIn'\n    };\n    this.content = {\n      pageNumber: ''\n    };\n    this._event = {};\n    this._lightboxElem = this._elemRef;\n    this._event.subscription = this._lightboxEvent.lightboxEvent$.subscribe(function (event) {\n      return _this_1._onReceivedEvent(event);\n    });\n    this.rotate = 0;\n  }\n\n  LightboxComponent.prototype.ngOnInit = function () {\n    var _this_1 = this;\n\n    this.album.forEach(function (album) {\n      if (album.caption) {\n        album.caption = _this_1._sanitizer.sanitize(core_1.SecurityContext.HTML, album.caption);\n      }\n    });\n  };\n\n  LightboxComponent.prototype.ngAfterViewInit = function () {\n    // need to init css value here, after the view ready\n    // actually these values are always 0\n    this._cssValue = {\n      containerTopPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-top')),\n      containerRightPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-right')),\n      containerBottomPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-bottom')),\n      containerLeftPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-left')),\n      imageBorderWidthTop: Math.round(this._getCssStyleValue(this._imageElem, 'border-top-width')),\n      imageBorderWidthBottom: Math.round(this._getCssStyleValue(this._imageElem, 'border-bottom-width')),\n      imageBorderWidthLeft: Math.round(this._getCssStyleValue(this._imageElem, 'border-left-width')),\n      imageBorderWidthRight: Math.round(this._getCssStyleValue(this._imageElem, 'border-right-width'))\n    };\n\n    if (this._validateInputData()) {\n      this._prepareComponent();\n\n      this._registerImageLoadingEvent();\n    }\n  };\n\n  LightboxComponent.prototype.ngOnDestroy = function () {\n    if (!this.options.disableKeyboardNav) {\n      // unbind keyboard event\n      this._disableKeyboardNav();\n    }\n\n    this._event.subscription.unsubscribe();\n  };\n\n  LightboxComponent.prototype.close = function ($event) {\n    $event.stopPropagation();\n\n    if ($event.target.classList.contains('lightbox') || $event.target.classList.contains('lb-loader') || $event.target.classList.contains('lb-close')) {\n      this._lightboxEvent.broadcastLightboxEvent({\n        id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE,\n        data: null\n      });\n    }\n  };\n\n  LightboxComponent.prototype.download = function ($event) {\n    $event.stopPropagation();\n    var url = this.album[this.currentImageIndex].src;\n    var parts = url.split('/');\n    var fileName = parts[parts.length - 1];\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var preloader = new Image();\n\n    var _this = this;\n\n    preloader.onload = function () {\n      // @ts-ignore\n      canvas.width = this.naturalWidth; // @ts-ignore\n\n      canvas.height = this.naturalHeight; // @ts-ignore\n\n      ctx.drawImage(this, 0, 0);\n      canvas.toBlob(function (blob) {\n        _this._fileSaverService.save(blob, fileName);\n      }, 'image/jpeg', 0.75);\n    };\n\n    preloader.crossOrigin = '';\n    preloader.src = this._sanitizer.sanitize(core_1.SecurityContext.URL, url);\n  };\n\n  LightboxComponent.prototype.control = function ($event) {\n    $event.stopPropagation();\n    var height;\n    var width;\n\n    if ($event.target.classList.contains('lb-turnLeft')) {\n      this.rotate = this.rotate - 90;\n\n      this._rotateContainer();\n\n      this._calcTransformPoint();\n\n      this._documentRef.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n      this._documentRef.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n\n      this._lightboxEvent.broadcastLightboxEvent({\n        id: lightbox_event_service_1.LIGHTBOX_EVENT.ROTATE_LEFT,\n        data: null\n      });\n    } else if ($event.target.classList.contains('lb-turnRight')) {\n      this.rotate = this.rotate + 90;\n\n      this._rotateContainer();\n\n      this._calcTransformPoint();\n\n      this._documentRef.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n      this._documentRef.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n\n      this._lightboxEvent.broadcastLightboxEvent({\n        id: lightbox_event_service_1.LIGHTBOX_EVENT.ROTATE_RIGHT,\n        data: null\n      });\n    } else if ($event.target.classList.contains('lb-zoomOut')) {\n      height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) / 1.5;\n      width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) / 1.5;\n      this._documentRef.getElementById('outerContainer').style.height = height + 'px';\n      this._documentRef.getElementById('outerContainer').style.width = width + 'px';\n      height = parseInt(this._documentRef.getElementById('image').style.height, 10) / 1.5;\n      width = parseInt(this._documentRef.getElementById('image').style.width, 10) / 1.5;\n      this._documentRef.getElementById('image').style.height = height + 'px';\n      this._documentRef.getElementById('image').style.width = width + 'px';\n\n      this._lightboxEvent.broadcastLightboxEvent({\n        id: lightbox_event_service_1.LIGHTBOX_EVENT.ZOOM_OUT,\n        data: null\n      });\n    } else if ($event.target.classList.contains('lb-zoomIn')) {\n      height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) * 1.5;\n      width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) * 1.5;\n      this._documentRef.getElementById('outerContainer').style.height = height + 'px';\n      this._documentRef.getElementById('outerContainer').style.width = width + 'px';\n      height = parseInt(this._documentRef.getElementById('image').style.height, 10) * 1.5;\n      width = parseInt(this._documentRef.getElementById('image').style.width, 10) * 1.5;\n      this._documentRef.getElementById('image').style.height = height + 'px';\n      this._documentRef.getElementById('image').style.width = width + 'px';\n\n      this._lightboxEvent.broadcastLightboxEvent({\n        id: lightbox_event_service_1.LIGHTBOX_EVENT.ZOOM_IN,\n        data: null\n      });\n    }\n  };\n\n  LightboxComponent.prototype._rotateContainer = function () {\n    var temp = this.rotate;\n\n    if (temp < 0) {\n      temp *= -1;\n    }\n\n    if (temp / 90 % 4 === 1 || temp / 90 % 4 === 3) {\n      this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.width;\n      this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.height;\n      this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\n      this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\n    } else {\n      this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.height;\n      this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.width;\n      this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\n      this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\n    }\n  };\n\n  LightboxComponent.prototype._resetImage = function () {\n    this.rotate = 0;\n    this._documentRef.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n    this._documentRef.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n  };\n\n  LightboxComponent.prototype._calcTransformPoint = function () {\n    var height = parseInt(this._documentRef.getElementById('image').style.height, 10);\n    var width = parseInt(this._documentRef.getElementById('image').style.width, 10);\n    var temp = this.rotate % 360;\n\n    if (temp < 0) {\n      temp = 360 + temp;\n    }\n\n    if (temp === 90) {\n      this._documentRef.getElementById('image').style.transformOrigin = height / 2 + 'px ' + height / 2 + 'px';\n    } else if (temp === 180) {\n      this._documentRef.getElementById('image').style.transformOrigin = width / 2 + 'px ' + height / 2 + 'px';\n    } else if (temp === 270) {\n      this._documentRef.getElementById('image').style.transformOrigin = width / 2 + 'px ' + width / 2 + 'px';\n    }\n  };\n\n  LightboxComponent.prototype.nextImage = function () {\n    if (this.album.length === 1) {\n      return;\n    } else if (this.currentImageIndex === this.album.length - 1) {\n      this._changeImage(0);\n    } else {\n      this._changeImage(this.currentImageIndex + 1);\n    }\n  };\n\n  LightboxComponent.prototype.prevImage = function () {\n    if (this.album.length === 1) {\n      return;\n    } else if (this.currentImageIndex === 0 && this.album.length > 1) {\n      this._changeImage(this.album.length - 1);\n    } else {\n      this._changeImage(this.currentImageIndex - 1);\n    }\n  };\n\n  LightboxComponent.prototype._validateInputData = function () {\n    if (this.album && this.album instanceof Array && this.album.length > 0) {\n      for (var i = 0; i < this.album.length; i++) {\n        // check whether each _nside\n        // album has src data or not\n        if (this.album[i].src) {\n          continue;\n        }\n\n        throw new Error('One of the album data does not have source data');\n      }\n    } else {\n      throw new Error('No album data or album data is not correct in type');\n    } // to prevent data understand as string\n    // convert it to number\n\n\n    if (isNaN(this.currentImageIndex)) {\n      throw new Error('Current image index is not a number');\n    } else {\n      this.currentImageIndex = Number(this.currentImageIndex);\n    }\n\n    return true;\n  };\n\n  LightboxComponent.prototype._registerImageLoadingEvent = function () {\n    var _this_1 = this;\n\n    var preloader = new Image();\n\n    preloader.onload = function () {\n      _this_1._onLoadImageSuccess();\n    };\n\n    var src = this.album[this.currentImageIndex].src;\n    preloader.src = this._sanitizer.sanitize(core_1.SecurityContext.URL, src);\n  };\n  /**\n   * Fire when the image is loaded\n   */\n\n\n  LightboxComponent.prototype._onLoadImageSuccess = function () {\n    if (!this.options.disableKeyboardNav) {\n      // unbind keyboard event during transition\n      this._disableKeyboardNav();\n    }\n\n    var imageHeight;\n    var imageWidth;\n    var maxImageHeight;\n    var maxImageWidth;\n    var windowHeight;\n    var windowWidth;\n    var naturalImageWidth;\n    var naturalImageHeight; // set default width and height of image to be its natural\n\n    imageWidth = naturalImageWidth = this._imageElem.nativeElement.naturalWidth;\n    imageHeight = naturalImageHeight = this._imageElem.nativeElement.naturalHeight;\n\n    if (this.options.fitImageInViewPort) {\n      windowWidth = this._windowRef.innerWidth;\n      windowHeight = this._windowRef.innerHeight;\n      maxImageWidth = windowWidth - this._cssValue.containerLeftPadding - this._cssValue.containerRightPadding - this._cssValue.imageBorderWidthLeft - this._cssValue.imageBorderWidthRight - 20;\n      maxImageHeight = windowHeight - this._cssValue.containerTopPadding - this._cssValue.containerTopPadding - this._cssValue.imageBorderWidthTop - this._cssValue.imageBorderWidthBottom - 120;\n\n      if (naturalImageWidth > maxImageWidth || naturalImageHeight > maxImageHeight) {\n        if (naturalImageWidth / maxImageWidth > naturalImageHeight / maxImageHeight) {\n          imageWidth = maxImageWidth;\n          imageHeight = Math.round(naturalImageHeight / (naturalImageWidth / imageWidth));\n        } else {\n          imageHeight = maxImageHeight;\n          imageWidth = Math.round(naturalImageWidth / (naturalImageHeight / imageHeight));\n        }\n      }\n\n      this._rendererRef.setStyle(this._imageElem.nativeElement, 'width', imageWidth + \"px\");\n\n      this._rendererRef.setStyle(this._imageElem.nativeElement, 'height', imageHeight + \"px\");\n    }\n\n    this._sizeContainer(imageWidth, imageHeight);\n\n    if (this.options.centerVertically) {\n      this._centerVertically(imageWidth, imageHeight);\n    }\n  };\n\n  LightboxComponent.prototype._centerVertically = function (imageWidth, imageHeight) {\n    var scrollOffset = this._documentRef.documentElement.scrollTop;\n    var windowHeight = this._windowRef.innerHeight;\n    var viewOffset = windowHeight / 2 - imageHeight / 2;\n    var topDistance = scrollOffset + viewOffset;\n\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', topDistance + \"px\");\n  };\n\n  LightboxComponent.prototype._sizeContainer = function (imageWidth, imageHeight) {\n    var _this_1 = this;\n\n    var oldWidth = this._outerContainerElem.nativeElement.offsetWidth;\n    var oldHeight = this._outerContainerElem.nativeElement.offsetHeight;\n    var newWidth = imageWidth + this._cssValue.containerRightPadding + this._cssValue.containerLeftPadding + this._cssValue.imageBorderWidthLeft + this._cssValue.imageBorderWidthRight;\n    var newHeight = imageHeight + this._cssValue.containerTopPadding + this._cssValue.containerBottomPadding + this._cssValue.imageBorderWidthTop + this._cssValue.imageBorderWidthBottom; // make sure that distances are large enough for transitionend event to be fired, at least 5px.\n\n    if (Math.abs(oldWidth - newWidth) + Math.abs(oldHeight - newHeight) > 5) {\n      this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'width', newWidth + \"px\");\n\n      this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'height', newHeight + \"px\"); // bind resize event to outer container\n      // use enableTransition to prevent infinite loader\n\n\n      if (this.options.enableTransition) {\n        this._event.transitions = [];\n        ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'MSTransitionEnd'].forEach(function (eventName) {\n          _this_1._event.transitions.push(_this_1._rendererRef.listen(_this_1._outerContainerElem.nativeElement, eventName, function (event) {\n            if (event.target === event.currentTarget) {\n              _this_1._postResize(newWidth, newHeight);\n            }\n          }));\n        });\n      } else {\n        this._postResize(newWidth, newHeight);\n      }\n    } else {\n      this._postResize(newWidth, newHeight);\n    }\n  };\n\n  LightboxComponent.prototype._postResize = function (newWidth, newHeight) {\n    // unbind resize event\n    if (Array.isArray(this._event.transitions)) {\n      this._event.transitions.forEach(function (eventHandler) {\n        eventHandler();\n      });\n\n      this._event.transitions = [];\n    }\n\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'width', newWidth + \"px\");\n\n    this._showImage();\n  };\n\n  LightboxComponent.prototype._showImage = function () {\n    this.ui.showReloader = false;\n\n    this._updateNav();\n\n    this._updateDetails();\n\n    if (!this.options.disableKeyboardNav) {\n      this._enableKeyboardNav();\n    }\n  };\n\n  LightboxComponent.prototype._prepareComponent = function () {\n    var _this_1 = this; // add css3 animation\n\n\n    this._addCssAnimation(); // position the image according to user's option\n\n\n    this._positionLightBox(); // update controls visibility on next view generation\n\n\n    setTimeout(function () {\n      _this_1.ui.showZoomButton = _this_1.options.showZoom;\n      _this_1.ui.showRotateButton = _this_1.options.showRotate;\n      _this_1.ui.showDownloadButton = _this_1.options.showDownloadButton;\n    }, 0);\n  };\n\n  LightboxComponent.prototype._positionLightBox = function () {\n    // @see https://stackoverflow.com/questions/3464876/javascript-get-window-x-y-position-for-scroll\n    var top = (this._windowRef.pageYOffset || this._documentRef.documentElement.scrollTop) + this.options.positionFromTop;\n    var left = this._windowRef.pageXOffset || this._documentRef.documentElement.scrollLeft;\n\n    if (!this.options.centerVertically) {\n      this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', top + \"px\");\n    }\n\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'left', left + \"px\");\n\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'display', 'block'); // disable scrolling of the page while open\n\n\n    if (this.options.disableScrolling) {\n      this._rendererRef.addClass(this._documentRef.documentElement, 'lb-disable-scrolling');\n    }\n  };\n  /**\n   * addCssAnimation add css3 classes for animate lightbox\n   */\n\n\n  LightboxComponent.prototype._addCssAnimation = function () {\n    var resizeDuration = this.options.resizeDuration;\n    var fadeDuration = this.options.fadeDuration;\n\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._outerContainerElem.nativeElement, '-webkit-transition-duration', resizeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'transition-duration', resizeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._imageElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._imageElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._captionElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._captionElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._numberElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n\n    this._rendererRef.setStyle(this._numberElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n  };\n\n  LightboxComponent.prototype._end = function () {\n    var _this_1 = this;\n\n    this.ui.classList = 'lightbox animation fadeOut';\n\n    if (this.options.disableScrolling) {\n      this._rendererRef.removeClass(this._documentRef.documentElement, 'lb-disable-scrolling');\n    }\n\n    setTimeout(function () {\n      _this_1.cmpRef.destroy();\n    }, this.options.fadeDuration * 1000);\n  };\n\n  LightboxComponent.prototype._updateDetails = function () {\n    // update the caption\n    if (typeof this.album[this.currentImageIndex].caption !== 'undefined' && this.album[this.currentImageIndex].caption !== '') {\n      this.ui.showCaption = true;\n    } // update the page number if user choose to do so\n    // does not perform numbering the page if the\n    // array length in album <= 1\n\n\n    if (this.album.length > 1 && this.options.showImageNumberLabel) {\n      this.ui.showPageNumber = true;\n      this.content.pageNumber = this._albumLabel();\n    }\n  };\n\n  LightboxComponent.prototype._albumLabel = function () {\n    // due to {this.currentImageIndex} is set from 0 to {this.album.length} - 1\n    return this.options.albumLabel.replace(/%1/g, Number(this.currentImageIndex + 1)).replace(/%2/g, this.album.length);\n  };\n\n  LightboxComponent.prototype._changeImage = function (newIndex) {\n    this._resetImage();\n\n    this.currentImageIndex = newIndex;\n\n    this._hideImage();\n\n    this._registerImageLoadingEvent();\n\n    this._lightboxEvent.broadcastLightboxEvent({\n      id: lightbox_event_service_1.LIGHTBOX_EVENT.CHANGE_PAGE,\n      data: newIndex\n    });\n  };\n\n  LightboxComponent.prototype._hideImage = function () {\n    this.ui.showReloader = true;\n    this.ui.showArrowNav = false;\n    this.ui.showLeftArrow = false;\n    this.ui.showRightArrow = false;\n    this.ui.showPageNumber = false;\n    this.ui.showCaption = false;\n  };\n\n  LightboxComponent.prototype._updateNav = function () {\n    var alwaysShowNav = false; // check to see the browser support touch event\n\n    try {\n      this._documentRef.createEvent('TouchEvent');\n\n      alwaysShowNav = this.options.alwaysShowNavOnTouchDevices ? true : false;\n    } catch (e) {// noop\n    } // initially show the arrow nav\n    // which is the parent of both left and right nav\n\n\n    this._showArrowNav();\n\n    if (this.album.length > 1) {\n      if (this.options.wrapAround) {\n        if (alwaysShowNav) {\n          // alternatives this.$lightbox.find('.lb-prev, .lb-next').css('opacity', '1');\n          this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\n\n          this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\n        } // alternatives this.$lightbox.find('.lb-prev, .lb-next').show();\n\n\n        this._showLeftArrowNav();\n\n        this._showRightArrowNav();\n      } else {\n        if (this.currentImageIndex > 0) {\n          // alternatives this.$lightbox.find('.lb-prev').show();\n          this._showLeftArrowNav();\n\n          if (alwaysShowNav) {\n            // alternatives this.$lightbox.find('.lb-prev').css('opacity', '1');\n            this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\n          }\n        }\n\n        if (this.currentImageIndex < this.album.length - 1) {\n          // alternatives this.$lightbox.find('.lb-next').show();\n          this._showRightArrowNav();\n\n          if (alwaysShowNav) {\n            // alternatives this.$lightbox.find('.lb-next').css('opacity', '1');\n            this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\n          }\n        }\n      }\n    }\n  };\n\n  LightboxComponent.prototype._showLeftArrowNav = function () {\n    this.ui.showLeftArrow = true;\n  };\n\n  LightboxComponent.prototype._showRightArrowNav = function () {\n    this.ui.showRightArrow = true;\n  };\n\n  LightboxComponent.prototype._showArrowNav = function () {\n    this.ui.showArrowNav = this.album.length !== 1;\n  };\n\n  LightboxComponent.prototype._enableKeyboardNav = function () {\n    var _this_1 = this;\n\n    this._event.keyup = this._rendererRef.listen('document', 'keyup', function (event) {\n      _this_1._keyboardAction(event);\n    });\n  };\n\n  LightboxComponent.prototype._disableKeyboardNav = function () {\n    if (this._event.keyup) {\n      this._event.keyup();\n    }\n  };\n\n  LightboxComponent.prototype._keyboardAction = function ($event) {\n    var KEYCODE_ESC = 27;\n    var KEYCODE_LEFTARROW = 37;\n    var KEYCODE_RIGHTARROW = 39;\n    var keycode = $event.keyCode;\n    var key = String.fromCharCode(keycode).toLowerCase();\n\n    if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\n      this._lightboxEvent.broadcastLightboxEvent({\n        id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE,\n        data: null\n      });\n    } else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\n      if (this.currentImageIndex !== 0) {\n        this._changeImage(this.currentImageIndex - 1);\n      } else if (this.options.wrapAround && this.album.length > 1) {\n        this._changeImage(this.album.length - 1);\n      }\n    } else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\n      if (this.currentImageIndex !== this.album.length - 1) {\n        this._changeImage(this.currentImageIndex + 1);\n      } else if (this.options.wrapAround && this.album.length > 1) {\n        this._changeImage(0);\n      }\n    }\n  };\n\n  LightboxComponent.prototype._getCssStyleValue = function (elem, propertyName) {\n    return parseFloat(this._windowRef.getComputedStyle(elem.nativeElement, null).getPropertyValue(propertyName));\n  };\n\n  LightboxComponent.prototype._onReceivedEvent = function (event) {\n    switch (event.id) {\n      case lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE:\n        this._end();\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Array)], LightboxComponent.prototype, \"album\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Number)], LightboxComponent.prototype, \"currentImageIndex\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Object)], LightboxComponent.prototype, \"options\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Object)], LightboxComponent.prototype, \"cmpRef\", void 0);\n\n  __decorate([core_1.ViewChild('outerContainer', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_outerContainerElem\", void 0);\n\n  __decorate([core_1.ViewChild('container', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_containerElem\", void 0);\n\n  __decorate([core_1.ViewChild('leftArrow', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_leftArrowElem\", void 0);\n\n  __decorate([core_1.ViewChild('rightArrow', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_rightArrowElem\", void 0);\n\n  __decorate([core_1.ViewChild('navArrow', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_navArrowElem\", void 0);\n\n  __decorate([core_1.ViewChild('dataContainer', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_dataContainerElem\", void 0);\n\n  __decorate([core_1.ViewChild('image', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_imageElem\", void 0);\n\n  __decorate([core_1.ViewChild('caption', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_captionElem\", void 0);\n\n  __decorate([core_1.ViewChild('number', {\n    static: false\n  }), __metadata(\"design:type\", core_1.ElementRef)], LightboxComponent.prototype, \"_numberElem\", void 0);\n\n  LightboxComponent = __decorate([__param(7, core_1.Inject(common_1.DOCUMENT)), __metadata(\"design:paramtypes\", [core_1.ElementRef, core_1.Renderer2, lightbox_event_service_1.LightboxEvent, core_1.ElementRef, lightbox_event_service_1.LightboxWindowRef, ngx_filesaver_1.FileSaverService, platform_browser_1.DomSanitizer, Object])], LightboxComponent);\n\n  LightboxComponent.ɵfac = function LightboxComponent_Factory(t) {\n    return new (t || LightboxComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LightboxEvent), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LightboxWindowRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.FileSaverService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(common_1.DOCUMENT));\n  };\n\n  LightboxComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n    type: LightboxComponent,\n    selectors: [[\"\", \"lb-content\", \"\"]],\n    viewQuery: function LightboxComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 1);\n        ɵngcc0.ɵɵviewQuery(_c1, 1);\n        ɵngcc0.ɵɵviewQuery(_c2, 1);\n        ɵngcc0.ɵɵviewQuery(_c3, 1);\n        ɵngcc0.ɵɵviewQuery(_c4, 1);\n        ɵngcc0.ɵɵviewQuery(_c5, 1);\n        ɵngcc0.ɵɵviewQuery(_c6, 1);\n        ɵngcc0.ɵɵviewQuery(_c7, 1);\n        ɵngcc0.ɵɵviewQuery(_c8, 1);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._outerContainerElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._containerElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._leftArrowElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._rightArrowElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._navArrowElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._dataContainerElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._imageElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._captionElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._numberElem = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function LightboxComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_click_HostBindingHandler($event) {\n          return ctx.close($event);\n        });\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(ctx.ui.classList);\n      }\n    },\n    inputs: {\n      options: \"options\",\n      album: \"album\",\n      currentImageIndex: \"currentImageIndex\",\n      cmpRef: \"cmpRef\"\n    },\n    attrs: _c9,\n    decls: 34,\n    vars: 14,\n    consts: [[\"id\", \"outerContainer\", 1, \"lb-outerContainer\", \"transition\"], [\"outerContainer\", \"\"], [\"id\", \"container\", 1, \"lb-container\"], [\"container\", \"\"], [\"id\", \"image\", 1, \"lb-image\", \"animation\", \"fadeIn\", 3, \"src\", \"hidden\"], [\"image\", \"\"], [1, \"lb-nav\", 3, \"hidden\"], [\"navArrow\", \"\"], [1, \"lb-prev\", 3, \"hidden\", \"click\"], [\"leftArrow\", \"\"], [1, \"lb-next\", 3, \"hidden\", \"click\"], [\"rightArrow\", \"\"], [1, \"lb-loader\", 3, \"hidden\", \"click\"], [1, \"lb-cancel\"], [1, \"lb-dataContainer\", 3, \"hidden\"], [\"dataContainer\", \"\"], [1, \"lb-data\"], [1, \"lb-details\"], [1, \"lb-caption\", \"animation\", \"fadeIn\", 3, \"hidden\", \"innerHtml\"], [\"caption\", \"\"], [1, \"lb-number\", \"animation\", \"fadeIn\", 3, \"hidden\"], [\"number\", \"\"], [1, \"lb-controlContainer\"], [1, \"lb-closeContainer\"], [1, \"lb-close\", 3, \"click\"], [1, \"lb-downloadContainer\", 3, \"hidden\"], [1, \"lb-download\", 3, \"click\"], [1, \"lb-turnContainer\", 3, \"hidden\"], [1, \"lb-turnLeft\", 3, \"click\"], [1, \"lb-turnRight\", 3, \"click\"], [1, \"lb-zoomContainer\", 3, \"hidden\"], [1, \"lb-zoomOut\", 3, \"click\"], [1, \"lb-zoomIn\", 3, \"click\"]],\n    template: function LightboxComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2, 3);\n        ɵngcc0.ɵɵelement(4, \"img\", 4, 5);\n        ɵngcc0.ɵɵelementStart(6, \"div\", 6, 7);\n        ɵngcc0.ɵɵelementStart(8, \"a\", 8, 9);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_8_listener() {\n          return ctx.prevImage();\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(10, \"a\", 10, 11);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_10_listener() {\n          return ctx.nextImage();\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(12, \"div\", 12);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_div_click_12_listener($event) {\n          return ctx.close($event);\n        });\n        ɵngcc0.ɵɵelement(13, \"a\", 13);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(14, \"div\", 14, 15);\n        ɵngcc0.ɵɵelementStart(16, \"div\", 16);\n        ɵngcc0.ɵɵelementStart(17, \"div\", 17);\n        ɵngcc0.ɵɵelement(18, \"span\", 18, 19);\n        ɵngcc0.ɵɵelementStart(20, \"span\", 20, 21);\n        ɵngcc0.ɵɵtext(22);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(23, \"div\", 22);\n        ɵngcc0.ɵɵelementStart(24, \"div\", 23);\n        ɵngcc0.ɵɵelementStart(25, \"a\", 24);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_25_listener($event) {\n          return ctx.close($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(26, \"div\", 25);\n        ɵngcc0.ɵɵelementStart(27, \"a\", 26);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_27_listener($event) {\n          return ctx.download($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(28, \"div\", 27);\n        ɵngcc0.ɵɵelementStart(29, \"a\", 28);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_29_listener($event) {\n          return ctx.control($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(30, \"a\", 29);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_30_listener($event) {\n          return ctx.control($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(31, \"div\", 30);\n        ɵngcc0.ɵɵelementStart(32, \"a\", 31);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_32_listener($event) {\n          return ctx.control($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(33, \"a\", 32);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_33_listener($event) {\n          return ctx.control($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"src\", ctx.album[ctx.currentImageIndex].src, ɵngcc0.ɵɵsanitizeUrl)(\"hidden\", ctx.ui.showReloader);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showArrowNav);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showLeftArrow);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showRightArrow);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showReloader);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", ctx.ui.showReloader);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showCaption)(\"innerHtml\", ctx.album[ctx.currentImageIndex].caption, ɵngcc0.ɵɵsanitizeHtml);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showPageNumber);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate(ctx.content.pageNumber);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showDownloadButton);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showRotateButton);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showZoomButton);\n      }\n    },\n    encapsulation: 2\n  });\n\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LightboxComponent, [{\n      type: core_1.Component,\n      args: [{\n        template: \"\\n    <div class=\\\"lb-outerContainer transition\\\" #outerContainer id=\\\"outerContainer\\\">\\n      <div class=\\\"lb-container\\\" #container id=\\\"container\\\">\\n        <img class=\\\"lb-image\\\"\\n             id=\\\"image\\\"\\n             [src]=\\\"album[currentImageIndex].src\\\"\\n             class=\\\"lb-image animation fadeIn\\\"\\n             [hidden]=\\\"ui.showReloader\\\"\\n             #image>\\n        <div class=\\\"lb-nav\\\" [hidden]=\\\"!ui.showArrowNav\\\" #navArrow>\\n          <a class=\\\"lb-prev\\\" [hidden]=\\\"!ui.showLeftArrow\\\" (click)=\\\"prevImage()\\\" #leftArrow></a>\\n          <a class=\\\"lb-next\\\" [hidden]=\\\"!ui.showRightArrow\\\" (click)=\\\"nextImage()\\\" #rightArrow></a>\\n        </div>\\n        <div class=\\\"lb-loader\\\" [hidden]=\\\"!ui.showReloader\\\" (click)=\\\"close($event)\\\">\\n          <a class=\\\"lb-cancel\\\"></a>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"lb-dataContainer\\\" [hidden]=\\\"ui.showReloader\\\" #dataContainer>\\n      <div class=\\\"lb-data\\\">\\n        <div class=\\\"lb-details\\\">\\n          <span class=\\\"lb-caption animation fadeIn\\\" [hidden]=\\\"!ui.showCaption\\\" [innerHtml]=\\\"album[currentImageIndex].caption\\\" #caption>\\n          </span>\\n          <span class=\\\"lb-number animation fadeIn\\\" [hidden]=\\\"!ui.showPageNumber\\\" #number>{{ content.pageNumber }}</span>\\n        </div>\\n        <div class=\\\"lb-controlContainer\\\">\\n          <div class=\\\"lb-closeContainer\\\">\\n            <a class=\\\"lb-close\\\" (click)=\\\"close($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-downloadContainer\\\" [hidden]=\\\"!ui.showDownloadButton\\\">\\n            <a class=\\\"lb-download\\\" (click)=\\\"download($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-turnContainer\\\" [hidden]=\\\"!ui.showRotateButton\\\">\\n            <a class=\\\"lb-turnLeft\\\" (click)=\\\"control($event)\\\"></a>\\n            <a class=\\\"lb-turnRight\\\" (click)=\\\"control($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-zoomContainer\\\" [hidden]=\\\"!ui.showZoomButton\\\">\\n            <a class=\\\"lb-zoomOut\\\" (click)=\\\"control($event)\\\"></a>\\n            <a class=\\\"lb-zoomIn\\\" (click)=\\\"control($event)\\\"></a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\",\n        selector: '[lb-content]',\n        host: {\n          '(click)': 'close($event)',\n          '[class]': 'ui.classList'\n        }\n      }]\n    }], function () {\n      return [{\n        type: ɵngcc0.ElementRef\n      }, {\n        type: ɵngcc0.Renderer2\n      }, {\n        type: ɵngcc1.LightboxEvent\n      }, {\n        type: ɵngcc0.ElementRef\n      }, {\n        type: ɵngcc1.LightboxWindowRef\n      }, {\n        type: ɵngcc2.FileSaverService\n      }, {\n        type: ɵngcc3.DomSanitizer\n      }, {\n        type: Object,\n        decorators: [{\n          type: core_1.Inject,\n          args: [common_1.DOCUMENT]\n        }]\n      }];\n    }, {\n      options: [{\n        type: core_1.Input\n      }],\n      album: [{\n        type: core_1.Input\n      }],\n      currentImageIndex: [{\n        type: core_1.Input\n      }],\n      cmpRef: [{\n        type: core_1.Input\n      }],\n      _outerContainerElem: [{\n        type: core_1.ViewChild,\n        args: ['outerContainer', {\n          static: false\n        }]\n      }],\n      _containerElem: [{\n        type: core_1.ViewChild,\n        args: ['container', {\n          static: false\n        }]\n      }],\n      _leftArrowElem: [{\n        type: core_1.ViewChild,\n        args: ['leftArrow', {\n          static: false\n        }]\n      }],\n      _rightArrowElem: [{\n        type: core_1.ViewChild,\n        args: ['rightArrow', {\n          static: false\n        }]\n      }],\n      _navArrowElem: [{\n        type: core_1.ViewChild,\n        args: ['navArrow', {\n          static: false\n        }]\n      }],\n      _dataContainerElem: [{\n        type: core_1.ViewChild,\n        args: ['dataContainer', {\n          static: false\n        }]\n      }],\n      _imageElem: [{\n        type: core_1.ViewChild,\n        args: ['image', {\n          static: false\n        }]\n      }],\n      _captionElem: [{\n        type: core_1.ViewChild,\n        args: ['caption', {\n          static: false\n        }]\n      }],\n      _numberElem: [{\n        type: core_1.ViewChild,\n        args: ['number', {\n          static: false\n        }]\n      }]\n    });\n  })();\n\n  return LightboxComponent;\n}();\n\nexports.LightboxComponent = LightboxComponent;","map":{"version":3,"sources":["lightbox.component.js"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ngx_filesaver_1 = require(\"ngx-filesaver\");\nvar common_1 = require(\"@angular/common\");\nvar core_1 = require(\"@angular/core\");\nvar platform_browser_1 = require(\"@angular/platform-browser\");\nvar lightbox_event_service_1 = require(\"./lightbox-event.service\");\nvar LightboxComponent = /** @class */ (function () {\n    function LightboxComponent(_elemRef, _rendererRef, _lightboxEvent, _lightboxElem, _lightboxWindowRef, _fileSaverService, _sanitizer, _documentRef) {\n        var _this_1 = this;\n        this._elemRef = _elemRef;\n        this._rendererRef = _rendererRef;\n        this._lightboxEvent = _lightboxEvent;\n        this._lightboxElem = _lightboxElem;\n        this._lightboxWindowRef = _lightboxWindowRef;\n        this._fileSaverService = _fileSaverService;\n        this._sanitizer = _sanitizer;\n        this._documentRef = _documentRef;\n        // initialize data\n        this.options = this.options || {};\n        this.album = this.album || [];\n        this.currentImageIndex = this.currentImageIndex || 0;\n        this._windowRef = this._lightboxWindowRef.nativeWindow;\n        // control the interactive of the directive\n        this.ui = {\n            // control the appear of the reloader\n            // false: image has loaded completely and ready to be shown\n            // true: image is still loading\n            showReloader: true,\n            // control the appear of the nav arrow\n            // the arrowNav is the parent of both left and right arrow\n            // in some cases, the parent shows but the child does not show\n            showLeftArrow: false,\n            showRightArrow: false,\n            showArrowNav: false,\n            // control the appear of the zoom and rotate buttons\n            showZoomButton: false,\n            showRotateButton: false,\n            // control whether to show the\n            // page number or not\n            showPageNumber: false,\n            showCaption: false,\n            // control whether to show the download button or not\n            showDownloadButton: false,\n            classList: 'lightbox animation fadeIn'\n        };\n        this.content = {\n            pageNumber: ''\n        };\n        this._event = {};\n        this._lightboxElem = this._elemRef;\n        this._event.subscription = this._lightboxEvent.lightboxEvent$\n            .subscribe(function (event) { return _this_1._onReceivedEvent(event); });\n        this.rotate = 0;\n    }\n    LightboxComponent.prototype.ngOnInit = function () {\n        var _this_1 = this;\n        this.album.forEach(function (album) {\n            if (album.caption) {\n                album.caption = _this_1._sanitizer.sanitize(core_1.SecurityContext.HTML, album.caption);\n            }\n        });\n    };\n    LightboxComponent.prototype.ngAfterViewInit = function () {\n        // need to init css value here, after the view ready\n        // actually these values are always 0\n        this._cssValue = {\n            containerTopPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-top')),\n            containerRightPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-right')),\n            containerBottomPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-bottom')),\n            containerLeftPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-left')),\n            imageBorderWidthTop: Math.round(this._getCssStyleValue(this._imageElem, 'border-top-width')),\n            imageBorderWidthBottom: Math.round(this._getCssStyleValue(this._imageElem, 'border-bottom-width')),\n            imageBorderWidthLeft: Math.round(this._getCssStyleValue(this._imageElem, 'border-left-width')),\n            imageBorderWidthRight: Math.round(this._getCssStyleValue(this._imageElem, 'border-right-width'))\n        };\n        if (this._validateInputData()) {\n            this._prepareComponent();\n            this._registerImageLoadingEvent();\n        }\n    };\n    LightboxComponent.prototype.ngOnDestroy = function () {\n        if (!this.options.disableKeyboardNav) {\n            // unbind keyboard event\n            this._disableKeyboardNav();\n        }\n        this._event.subscription.unsubscribe();\n    };\n    LightboxComponent.prototype.close = function ($event) {\n        $event.stopPropagation();\n        if ($event.target.classList.contains('lightbox') ||\n            $event.target.classList.contains('lb-loader') ||\n            $event.target.classList.contains('lb-close')) {\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE, data: null });\n        }\n    };\n    LightboxComponent.prototype.download = function ($event) {\n        $event.stopPropagation();\n        var url = this.album[this.currentImageIndex].src;\n        var parts = url.split('/');\n        var fileName = parts[parts.length - 1];\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var preloader = new Image();\n        var _this = this;\n        preloader.onload = function () {\n            // @ts-ignore\n            canvas.width = this.naturalWidth;\n            // @ts-ignore\n            canvas.height = this.naturalHeight;\n            // @ts-ignore\n            ctx.drawImage(this, 0, 0);\n            canvas.toBlob(function (blob) {\n                _this._fileSaverService.save(blob, fileName);\n            }, 'image/jpeg', 0.75);\n        };\n        preloader.crossOrigin = '';\n        preloader.src = this._sanitizer.sanitize(core_1.SecurityContext.URL, url);\n    };\n    LightboxComponent.prototype.control = function ($event) {\n        $event.stopPropagation();\n        var height;\n        var width;\n        if ($event.target.classList.contains('lb-turnLeft')) {\n            this.rotate = this.rotate - 90;\n            this._rotateContainer();\n            this._calcTransformPoint();\n            this._documentRef.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n            this._documentRef.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ROTATE_LEFT, data: null });\n        }\n        else if ($event.target.classList.contains('lb-turnRight')) {\n            this.rotate = this.rotate + 90;\n            this._rotateContainer();\n            this._calcTransformPoint();\n            this._documentRef.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n            this._documentRef.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ROTATE_RIGHT, data: null });\n        }\n        else if ($event.target.classList.contains('lb-zoomOut')) {\n            height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) / 1.5;\n            width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) / 1.5;\n            this._documentRef.getElementById('outerContainer').style.height = height + 'px';\n            this._documentRef.getElementById('outerContainer').style.width = width + 'px';\n            height = parseInt(this._documentRef.getElementById('image').style.height, 10) / 1.5;\n            width = parseInt(this._documentRef.getElementById('image').style.width, 10) / 1.5;\n            this._documentRef.getElementById('image').style.height = height + 'px';\n            this._documentRef.getElementById('image').style.width = width + 'px';\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ZOOM_OUT, data: null });\n        }\n        else if ($event.target.classList.contains('lb-zoomIn')) {\n            height = parseInt(this._documentRef.getElementById('outerContainer').style.height, 10) * 1.5;\n            width = parseInt(this._documentRef.getElementById('outerContainer').style.width, 10) * 1.5;\n            this._documentRef.getElementById('outerContainer').style.height = height + 'px';\n            this._documentRef.getElementById('outerContainer').style.width = width + 'px';\n            height = parseInt(this._documentRef.getElementById('image').style.height, 10) * 1.5;\n            width = parseInt(this._documentRef.getElementById('image').style.width, 10) * 1.5;\n            this._documentRef.getElementById('image').style.height = height + 'px';\n            this._documentRef.getElementById('image').style.width = width + 'px';\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ZOOM_IN, data: null });\n        }\n    };\n    LightboxComponent.prototype._rotateContainer = function () {\n        var temp = this.rotate;\n        if (temp < 0) {\n            temp *= -1;\n        }\n        if (temp / 90 % 4 === 1 || temp / 90 % 4 === 3) {\n            this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.width;\n            this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.height;\n            this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\n            this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\n        }\n        else {\n            this._documentRef.getElementById('outerContainer').style.height = this._documentRef.getElementById('image').style.height;\n            this._documentRef.getElementById('outerContainer').style.width = this._documentRef.getElementById('image').style.width;\n            this._documentRef.getElementById('container').style.height = this._documentRef.getElementById('image').style.width;\n            this._documentRef.getElementById('container').style.width = this._documentRef.getElementById('image').style.height;\n        }\n    };\n    LightboxComponent.prototype._resetImage = function () {\n        this.rotate = 0;\n        this._documentRef.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n        this._documentRef.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n    };\n    LightboxComponent.prototype._calcTransformPoint = function () {\n        var height = parseInt(this._documentRef.getElementById('image').style.height, 10);\n        var width = parseInt(this._documentRef.getElementById('image').style.width, 10);\n        var temp = this.rotate % 360;\n        if (temp < 0) {\n            temp = 360 + temp;\n        }\n        if (temp === 90) {\n            this._documentRef.getElementById('image').style.transformOrigin = (height / 2) + 'px ' + (height / 2) + 'px';\n        }\n        else if (temp === 180) {\n            this._documentRef.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (height / 2) + 'px';\n        }\n        else if (temp === 270) {\n            this._documentRef.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (width / 2) + 'px';\n        }\n    };\n    LightboxComponent.prototype.nextImage = function () {\n        if (this.album.length === 1) {\n            return;\n        }\n        else if (this.currentImageIndex === this.album.length - 1) {\n            this._changeImage(0);\n        }\n        else {\n            this._changeImage(this.currentImageIndex + 1);\n        }\n    };\n    LightboxComponent.prototype.prevImage = function () {\n        if (this.album.length === 1) {\n            return;\n        }\n        else if (this.currentImageIndex === 0 && this.album.length > 1) {\n            this._changeImage(this.album.length - 1);\n        }\n        else {\n            this._changeImage(this.currentImageIndex - 1);\n        }\n    };\n    LightboxComponent.prototype._validateInputData = function () {\n        if (this.album &&\n            this.album instanceof Array &&\n            this.album.length > 0) {\n            for (var i = 0; i < this.album.length; i++) {\n                // check whether each _nside\n                // album has src data or not\n                if (this.album[i].src) {\n                    continue;\n                }\n                throw new Error('One of the album data does not have source data');\n            }\n        }\n        else {\n            throw new Error('No album data or album data is not correct in type');\n        }\n        // to prevent data understand as string\n        // convert it to number\n        if (isNaN(this.currentImageIndex)) {\n            throw new Error('Current image index is not a number');\n        }\n        else {\n            this.currentImageIndex = Number(this.currentImageIndex);\n        }\n        return true;\n    };\n    LightboxComponent.prototype._registerImageLoadingEvent = function () {\n        var _this_1 = this;\n        var preloader = new Image();\n        preloader.onload = function () {\n            _this_1._onLoadImageSuccess();\n        };\n        var src = this.album[this.currentImageIndex].src;\n        preloader.src = this._sanitizer.sanitize(core_1.SecurityContext.URL, src);\n    };\n    /**\n     * Fire when the image is loaded\n     */\n    LightboxComponent.prototype._onLoadImageSuccess = function () {\n        if (!this.options.disableKeyboardNav) {\n            // unbind keyboard event during transition\n            this._disableKeyboardNav();\n        }\n        var imageHeight;\n        var imageWidth;\n        var maxImageHeight;\n        var maxImageWidth;\n        var windowHeight;\n        var windowWidth;\n        var naturalImageWidth;\n        var naturalImageHeight;\n        // set default width and height of image to be its natural\n        imageWidth = naturalImageWidth = this._imageElem.nativeElement.naturalWidth;\n        imageHeight = naturalImageHeight = this._imageElem.nativeElement.naturalHeight;\n        if (this.options.fitImageInViewPort) {\n            windowWidth = this._windowRef.innerWidth;\n            windowHeight = this._windowRef.innerHeight;\n            maxImageWidth = windowWidth - this._cssValue.containerLeftPadding -\n                this._cssValue.containerRightPadding - this._cssValue.imageBorderWidthLeft -\n                this._cssValue.imageBorderWidthRight - 20;\n            maxImageHeight = windowHeight - this._cssValue.containerTopPadding -\n                this._cssValue.containerTopPadding - this._cssValue.imageBorderWidthTop -\n                this._cssValue.imageBorderWidthBottom - 120;\n            if (naturalImageWidth > maxImageWidth || naturalImageHeight > maxImageHeight) {\n                if ((naturalImageWidth / maxImageWidth) > (naturalImageHeight / maxImageHeight)) {\n                    imageWidth = maxImageWidth;\n                    imageHeight = Math.round(naturalImageHeight / (naturalImageWidth / imageWidth));\n                }\n                else {\n                    imageHeight = maxImageHeight;\n                    imageWidth = Math.round(naturalImageWidth / (naturalImageHeight / imageHeight));\n                }\n            }\n            this._rendererRef.setStyle(this._imageElem.nativeElement, 'width', imageWidth + \"px\");\n            this._rendererRef.setStyle(this._imageElem.nativeElement, 'height', imageHeight + \"px\");\n        }\n        this._sizeContainer(imageWidth, imageHeight);\n        if (this.options.centerVertically) {\n            this._centerVertically(imageWidth, imageHeight);\n        }\n    };\n    LightboxComponent.prototype._centerVertically = function (imageWidth, imageHeight) {\n        var scrollOffset = this._documentRef.documentElement.scrollTop;\n        var windowHeight = this._windowRef.innerHeight;\n        var viewOffset = windowHeight / 2 - imageHeight / 2;\n        var topDistance = scrollOffset + viewOffset;\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', topDistance + \"px\");\n    };\n    LightboxComponent.prototype._sizeContainer = function (imageWidth, imageHeight) {\n        var _this_1 = this;\n        var oldWidth = this._outerContainerElem.nativeElement.offsetWidth;\n        var oldHeight = this._outerContainerElem.nativeElement.offsetHeight;\n        var newWidth = imageWidth + this._cssValue.containerRightPadding + this._cssValue.containerLeftPadding +\n            this._cssValue.imageBorderWidthLeft + this._cssValue.imageBorderWidthRight;\n        var newHeight = imageHeight + this._cssValue.containerTopPadding + this._cssValue.containerBottomPadding +\n            this._cssValue.imageBorderWidthTop + this._cssValue.imageBorderWidthBottom;\n        // make sure that distances are large enough for transitionend event to be fired, at least 5px.\n        if (Math.abs(oldWidth - newWidth) + Math.abs(oldHeight - newHeight) > 5) {\n            this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'width', newWidth + \"px\");\n            this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'height', newHeight + \"px\");\n            // bind resize event to outer container\n            // use enableTransition to prevent infinite loader\n            if (this.options.enableTransition) {\n                this._event.transitions = [];\n                ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'MSTransitionEnd'].forEach(function (eventName) {\n                    _this_1._event.transitions.push(_this_1._rendererRef.listen(_this_1._outerContainerElem.nativeElement, eventName, function (event) {\n                        if (event.target === event.currentTarget) {\n                            _this_1._postResize(newWidth, newHeight);\n                        }\n                    }));\n                });\n            }\n            else {\n                this._postResize(newWidth, newHeight);\n            }\n        }\n        else {\n            this._postResize(newWidth, newHeight);\n        }\n    };\n    LightboxComponent.prototype._postResize = function (newWidth, newHeight) {\n        // unbind resize event\n        if (Array.isArray(this._event.transitions)) {\n            this._event.transitions.forEach(function (eventHandler) {\n                eventHandler();\n            });\n            this._event.transitions = [];\n        }\n        this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'width', newWidth + \"px\");\n        this._showImage();\n    };\n    LightboxComponent.prototype._showImage = function () {\n        this.ui.showReloader = false;\n        this._updateNav();\n        this._updateDetails();\n        if (!this.options.disableKeyboardNav) {\n            this._enableKeyboardNav();\n        }\n    };\n    LightboxComponent.prototype._prepareComponent = function () {\n        var _this_1 = this;\n        // add css3 animation\n        this._addCssAnimation();\n        // position the image according to user's option\n        this._positionLightBox();\n        // update controls visibility on next view generation\n        setTimeout(function () {\n            _this_1.ui.showZoomButton = _this_1.options.showZoom;\n            _this_1.ui.showRotateButton = _this_1.options.showRotate;\n            _this_1.ui.showDownloadButton = _this_1.options.showDownloadButton;\n        }, 0);\n    };\n    LightboxComponent.prototype._positionLightBox = function () {\n        // @see https://stackoverflow.com/questions/3464876/javascript-get-window-x-y-position-for-scroll\n        var top = (this._windowRef.pageYOffset || this._documentRef.documentElement.scrollTop) +\n            this.options.positionFromTop;\n        var left = this._windowRef.pageXOffset || this._documentRef.documentElement.scrollLeft;\n        if (!this.options.centerVertically) {\n            this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', top + \"px\");\n        }\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'left', left + \"px\");\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'display', 'block');\n        // disable scrolling of the page while open\n        if (this.options.disableScrolling) {\n            this._rendererRef.addClass(this._documentRef.documentElement, 'lb-disable-scrolling');\n        }\n    };\n    /**\n     * addCssAnimation add css3 classes for animate lightbox\n     */\n    LightboxComponent.prototype._addCssAnimation = function () {\n        var resizeDuration = this.options.resizeDuration;\n        var fadeDuration = this.options.fadeDuration;\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._outerContainerElem.nativeElement, '-webkit-transition-duration', resizeDuration + \"s\");\n        this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'transition-duration', resizeDuration + \"s\");\n        this._rendererRef.setStyle(this._dataContainerElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._imageElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._imageElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._captionElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._captionElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._numberElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._numberElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n    };\n    LightboxComponent.prototype._end = function () {\n        var _this_1 = this;\n        this.ui.classList = 'lightbox animation fadeOut';\n        if (this.options.disableScrolling) {\n            this._rendererRef.removeClass(this._documentRef.documentElement, 'lb-disable-scrolling');\n        }\n        setTimeout(function () {\n            _this_1.cmpRef.destroy();\n        }, this.options.fadeDuration * 1000);\n    };\n    LightboxComponent.prototype._updateDetails = function () {\n        // update the caption\n        if (typeof this.album[this.currentImageIndex].caption !== 'undefined' &&\n            this.album[this.currentImageIndex].caption !== '') {\n            this.ui.showCaption = true;\n        }\n        // update the page number if user choose to do so\n        // does not perform numbering the page if the\n        // array length in album <= 1\n        if (this.album.length > 1 && this.options.showImageNumberLabel) {\n            this.ui.showPageNumber = true;\n            this.content.pageNumber = this._albumLabel();\n        }\n    };\n    LightboxComponent.prototype._albumLabel = function () {\n        // due to {this.currentImageIndex} is set from 0 to {this.album.length} - 1\n        return this.options.albumLabel.replace(/%1/g, Number(this.currentImageIndex + 1)).replace(/%2/g, this.album.length);\n    };\n    LightboxComponent.prototype._changeImage = function (newIndex) {\n        this._resetImage();\n        this.currentImageIndex = newIndex;\n        this._hideImage();\n        this._registerImageLoadingEvent();\n        this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CHANGE_PAGE, data: newIndex });\n    };\n    LightboxComponent.prototype._hideImage = function () {\n        this.ui.showReloader = true;\n        this.ui.showArrowNav = false;\n        this.ui.showLeftArrow = false;\n        this.ui.showRightArrow = false;\n        this.ui.showPageNumber = false;\n        this.ui.showCaption = false;\n    };\n    LightboxComponent.prototype._updateNav = function () {\n        var alwaysShowNav = false;\n        // check to see the browser support touch event\n        try {\n            this._documentRef.createEvent('TouchEvent');\n            alwaysShowNav = (this.options.alwaysShowNavOnTouchDevices) ? true : false;\n        }\n        catch (e) {\n            // noop\n        }\n        // initially show the arrow nav\n        // which is the parent of both left and right nav\n        this._showArrowNav();\n        if (this.album.length > 1) {\n            if (this.options.wrapAround) {\n                if (alwaysShowNav) {\n                    // alternatives this.$lightbox.find('.lb-prev, .lb-next').css('opacity', '1');\n                    this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\n                    this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\n                }\n                // alternatives this.$lightbox.find('.lb-prev, .lb-next').show();\n                this._showLeftArrowNav();\n                this._showRightArrowNav();\n            }\n            else {\n                if (this.currentImageIndex > 0) {\n                    // alternatives this.$lightbox.find('.lb-prev').show();\n                    this._showLeftArrowNav();\n                    if (alwaysShowNav) {\n                        // alternatives this.$lightbox.find('.lb-prev').css('opacity', '1');\n                        this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\n                    }\n                }\n                if (this.currentImageIndex < this.album.length - 1) {\n                    // alternatives this.$lightbox.find('.lb-next').show();\n                    this._showRightArrowNav();\n                    if (alwaysShowNav) {\n                        // alternatives this.$lightbox.find('.lb-next').css('opacity', '1');\n                        this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\n                    }\n                }\n            }\n        }\n    };\n    LightboxComponent.prototype._showLeftArrowNav = function () {\n        this.ui.showLeftArrow = true;\n    };\n    LightboxComponent.prototype._showRightArrowNav = function () {\n        this.ui.showRightArrow = true;\n    };\n    LightboxComponent.prototype._showArrowNav = function () {\n        this.ui.showArrowNav = (this.album.length !== 1);\n    };\n    LightboxComponent.prototype._enableKeyboardNav = function () {\n        var _this_1 = this;\n        this._event.keyup = this._rendererRef.listen('document', 'keyup', function (event) {\n            _this_1._keyboardAction(event);\n        });\n    };\n    LightboxComponent.prototype._disableKeyboardNav = function () {\n        if (this._event.keyup) {\n            this._event.keyup();\n        }\n    };\n    LightboxComponent.prototype._keyboardAction = function ($event) {\n        var KEYCODE_ESC = 27;\n        var KEYCODE_LEFTARROW = 37;\n        var KEYCODE_RIGHTARROW = 39;\n        var keycode = $event.keyCode;\n        var key = String.fromCharCode(keycode).toLowerCase();\n        if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE, data: null });\n        }\n        else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\n            if (this.currentImageIndex !== 0) {\n                this._changeImage(this.currentImageIndex - 1);\n            }\n            else if (this.options.wrapAround && this.album.length > 1) {\n                this._changeImage(this.album.length - 1);\n            }\n        }\n        else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\n            if (this.currentImageIndex !== this.album.length - 1) {\n                this._changeImage(this.currentImageIndex + 1);\n            }\n            else if (this.options.wrapAround && this.album.length > 1) {\n                this._changeImage(0);\n            }\n        }\n    };\n    LightboxComponent.prototype._getCssStyleValue = function (elem, propertyName) {\n        return parseFloat(this._windowRef\n            .getComputedStyle(elem.nativeElement, null)\n            .getPropertyValue(propertyName));\n    };\n    LightboxComponent.prototype._onReceivedEvent = function (event) {\n        switch (event.id) {\n            case lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE:\n                this._end();\n                break;\n            default:\n                break;\n        }\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Array)\n    ], LightboxComponent.prototype, \"album\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Number)\n    ], LightboxComponent.prototype, \"currentImageIndex\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], LightboxComponent.prototype, \"options\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], LightboxComponent.prototype, \"cmpRef\", void 0);\n    __decorate([\n        core_1.ViewChild('outerContainer', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_outerContainerElem\", void 0);\n    __decorate([\n        core_1.ViewChild('container', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_containerElem\", void 0);\n    __decorate([\n        core_1.ViewChild('leftArrow', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_leftArrowElem\", void 0);\n    __decorate([\n        core_1.ViewChild('rightArrow', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_rightArrowElem\", void 0);\n    __decorate([\n        core_1.ViewChild('navArrow', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_navArrowElem\", void 0);\n    __decorate([\n        core_1.ViewChild('dataContainer', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_dataContainerElem\", void 0);\n    __decorate([\n        core_1.ViewChild('image', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_imageElem\", void 0);\n    __decorate([\n        core_1.ViewChild('caption', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_captionElem\", void 0);\n    __decorate([\n        core_1.ViewChild('number', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_numberElem\", void 0);\n    LightboxComponent = __decorate([\n        core_1.Component({\n            template: \"\\n    <div class=\\\"lb-outerContainer transition\\\" #outerContainer id=\\\"outerContainer\\\">\\n      <div class=\\\"lb-container\\\" #container id=\\\"container\\\">\\n        <img class=\\\"lb-image\\\"\\n             id=\\\"image\\\"\\n             [src]=\\\"album[currentImageIndex].src\\\"\\n             class=\\\"lb-image animation fadeIn\\\"\\n             [hidden]=\\\"ui.showReloader\\\"\\n             #image>\\n        <div class=\\\"lb-nav\\\" [hidden]=\\\"!ui.showArrowNav\\\" #navArrow>\\n          <a class=\\\"lb-prev\\\" [hidden]=\\\"!ui.showLeftArrow\\\" (click)=\\\"prevImage()\\\" #leftArrow></a>\\n          <a class=\\\"lb-next\\\" [hidden]=\\\"!ui.showRightArrow\\\" (click)=\\\"nextImage()\\\" #rightArrow></a>\\n        </div>\\n        <div class=\\\"lb-loader\\\" [hidden]=\\\"!ui.showReloader\\\" (click)=\\\"close($event)\\\">\\n          <a class=\\\"lb-cancel\\\"></a>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"lb-dataContainer\\\" [hidden]=\\\"ui.showReloader\\\" #dataContainer>\\n      <div class=\\\"lb-data\\\">\\n        <div class=\\\"lb-details\\\">\\n          <span class=\\\"lb-caption animation fadeIn\\\" [hidden]=\\\"!ui.showCaption\\\" [innerHtml]=\\\"album[currentImageIndex].caption\\\" #caption>\\n          </span>\\n          <span class=\\\"lb-number animation fadeIn\\\" [hidden]=\\\"!ui.showPageNumber\\\" #number>{{ content.pageNumber }}</span>\\n        </div>\\n        <div class=\\\"lb-controlContainer\\\">\\n          <div class=\\\"lb-closeContainer\\\">\\n            <a class=\\\"lb-close\\\" (click)=\\\"close($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-downloadContainer\\\" [hidden]=\\\"!ui.showDownloadButton\\\">\\n            <a class=\\\"lb-download\\\" (click)=\\\"download($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-turnContainer\\\" [hidden]=\\\"!ui.showRotateButton\\\">\\n            <a class=\\\"lb-turnLeft\\\" (click)=\\\"control($event)\\\"></a>\\n            <a class=\\\"lb-turnRight\\\" (click)=\\\"control($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-zoomContainer\\\" [hidden]=\\\"!ui.showZoomButton\\\">\\n            <a class=\\\"lb-zoomOut\\\" (click)=\\\"control($event)\\\"></a>\\n            <a class=\\\"lb-zoomIn\\\" (click)=\\\"control($event)\\\"></a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\",\n            selector: '[lb-content]',\n            host: {\n                '(click)': 'close($event)',\n                '[class]': 'ui.classList'\n            }\n        }),\n        __param(7, core_1.Inject(common_1.DOCUMENT)),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef,\n            core_1.Renderer2,\n            lightbox_event_service_1.LightboxEvent,\n            core_1.ElementRef,\n            lightbox_event_service_1.LightboxWindowRef,\n            ngx_filesaver_1.FileSaverService,\n            platform_browser_1.DomSanitizer, Object])\n    ], LightboxComponent);\n    return LightboxComponent;\n}());\nexports.LightboxComponent = LightboxComponent;\n"]},"metadata":{},"sourceType":"script"}